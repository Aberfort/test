"use strict";function Notify(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Default message",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=document.querySelector(".notify"),o=document.createElement("div"),a=document.createTextNode(e),r=document.body;return n&&r.removeChild(n),o.classList.add("notify"),o.addEventListener("click",function(e){return e.target.style.opacity=0}),o.appendChild(a),setTimeout(function(){o.style.opacity=1,o.style.transform="translateY(0)"},300),setTimeout(function(){o.style.opacity=0,o.style.transform="translateY(200%)"},t),r.appendChild(o)}function showNewsletterPopup(){var e=JSON.parse(localStorage.getItem(newsLetterKey));if(!e||e.date<dateNow)return newsletter&&newsletter.classList.add("newsletter--show")}function fillInOwlInit(e,t,n,o,a,r,i,l,s,d,c,u,p,m,f){function h(){k=$(t+" .owl-dot"),k.length&&!c&&y()}function w(e){"position"===e.property.name&&(_=50),k.find("span").removeAttr("style"),_=0,C=1}function y(){var e=50/(60*i),t=1/(60*i);_+=e,C-=t,$(k[b()]).find("span").css({"border-color":"rgba("+l+", "+C+")"}),window.innerWidth<=599?$(k[v()]).find("span").css({"border-left":"solid "+_/2+"px rgba("+l+", 1)"}):$(k[v()]).find("span").css({"border-left":"solid "+_+"px rgba("+l+", 1)"}),_<50?S.push(requestAnimationFrame(y)):(g(),k[v()].click())}function g(){_=0,C=1,$(k[b()]).find("span").removeAttr("style"),$(k[v()]).find("span").css({"border-left":""}),k.one("click",function(){S.forEach(function(e){cancelAnimationFrame(e)}),S=[]})}function v(){var e=0;return $.each(k,function(t,n){if($(n).hasClass("active")&&t<k.length-1)return void(e=t+1)}),e}function b(){var e=k.length-1;return $.each(k,function(t,n){if($(n).hasClass("active")&&t<k.length-1)return void(e=t)}),e}var k=void 0,_=0,C=1,S=[];e.length>0&&e.owlCarousel({loop:u,lazyLoad:!0,margin:s,nav:c,items:o,dots:p,autoplay:n,autoplayTimeout:7e3,autoplaySpeed:2e3,smartSpeed:600,onInitialized:h,onChange:w,onChanged:h,responsive:{0:{items:d?2:1,margin:0,dots:f,nav:!1,loop:!0,autoplay:!1,autoplayTimeout:m},600:{items:d?r:a,margin:d?25:s},1e3:{items:r,margin:d?25:s}}})}$(document).ready(function(){var e=function(e){var t,n,o=window.location.search.substring(1),a=o.split("&");for(n=0;n<a.length;n++)if(t=a[n].split("="),t[0]===e)return void 0===t[1]||decodeURIComponent(t[1])},t=e("kw"),n=e("location");t&&n?$(".kw").append(t+" in "+n):t?$(".kw").append(t):n?$(".kw").append("Mobile App Development Company in "+n):$(".kw").append("Mobile App Development Company"),$("meta[name=description]").remove(),t?(document.title=t+" | Intellectsoft US",$("head").append('<meta name="description" content="Quickly build the team you need with our '+t+" in "+n+'. Employ the best app developers for your mobile app now.">')):(document.title="Mobile App Development Company | Intellectsoft US",$("head").append('<meta name="description" content="Quickly build the team you need with our Mobile App Development Company. Employ the best app developers for your mobile app now.">')),$(".video-play").vide("/static/7/images/video/video",{posterType:"jpg",className:"video-container"})}),$(".clients__container").owlCarousel({loop:!0,dots:!1,nav:!0,navText:["",""],autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,margin:10,responsive:{0:{items:1},768:{items:2,autoWidth:!0},1020:{items:3,autoWidth:!0},1280:{items:4}}}),$(".about__awards").owlCarousel({loop:!0,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,nav:!0,navText:["",""],responsive:{0:{items:1},768:{items:3},1250:{items:4}}}),AOS.init();var newsletter=document.querySelector(".newsletter"),newsletterOk=document.querySelectorAll(".popup-ok"),docHeight=document.querySelector("body").offsetHeight,triggerHeight=.75*docHeight-window.innerHeight,newsLetterKey="isNewsletter",twoWeeks=12096e5,dateNow=Date.now(),newsLetterShown={date:dateNow+twoWeeks,shown:!0};if(newsletterOk&&[].forEach.call(newsletterOk,function(e){e.addEventListener("click",function(){newsletter.classList.remove("newsletter--show"),localStorage.setItem(newsLetterKey,JSON.stringify(newsLetterShown))})}),window.addEventListener("scroll",function(){window.scrollY>triggerHeight&&showNewsletterPopup()}),$(document).on("click",'a[href^="#"]',function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top},500)}),$(".footer__year").length){var currentYear=(new Date).getFullYear();$(".footer__year").text(currentYear)}$('html[lang="no"]').length&&($(".work__cta").addClass("work__cta--no"),$(".work__cta-title").addClass("work__cta-title--no"),$(".competence__content").addClass("competence__content--no"));var owl=$("#ranking"),form=$("#formRanking");fillInOwlInit(owl,".ranking",!0,4,4,7,10,"0, 110, 250",5,!1,!1,!1,!0,2e3,!1,5),fillInOwlInit(form,".ranking-form",!1,4,2,3,6,"255, 255, 255",10,!0,!1,!1,!0,2e3,!0,9),$.validator.methods.number=function(e,t){return this.optional(t)||/^[0-9+\-() â€”]+$/.test(e)};var hide=function(e){return e.style.display="none"};$("form").each(function(){$(this).validate({showErrors:function(e,t){e.attach&&Notify(uploadErrorMessage,notifyDelay),this.defaultShowErrors()},rules:{name:{required:!0,maxlength:255},last_name:{required:!0,maxlength:255},position:{required:!0,maxlength:255},company:{required:!0,maxlength:255},email:{required:!0,email:!0,maxlength:255},phone:{required:!0,number:!0,maxlength:255,minlength:5},description:{required:!1,maxlength:65535}},messages:{email:{email:"Please enter a valid email address."}},submitHandler:function(e,t){t.preventDefault();var n=new FormData(e),o=e.getAttribute("data-url"),a=e.querySelector(".registration__error");e.nextElementSibling;n.append("handler_id",e.dataset.handler),handleFormSubmit(o,n,{type:e.dataset.type}).then(function(e){e.data.status?($(".notification").show(),$("form").trigger("reset")):(a.textContent="Check selected fields, please.",show(a)),Object.keys(e.data).length>1&&Object.keys(e.data).map(function(e){var t=e.split("-")[1];return document.querySelector("[name="+t+"]").classList.add("has-error")})}).catch(function(e){console.log(e)})}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiTm90aWZ5IiwibWVzc2FnZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImRlbGF5IiwiZXhpc3RpbmdOb3RpZnkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3cmFwcGVyIiwiY3JlYXRlRWxlbWVudCIsInRleHROb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJib2R5IiwicmVtb3ZlQ2hpbGQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsInN0eWxlIiwib3BhY2l0eSIsImFwcGVuZENoaWxkIiwic2V0VGltZW91dCIsInRyYW5zZm9ybSIsInNob3dOZXdzbGV0dGVyUG9wdXAiLCJpc05ld3NMZXR0ZXIiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibmV3c0xldHRlcktleSIsImRhdGUiLCJkYXRlTm93IiwibmV3c2xldHRlciIsImZpbGxJbk93bEluaXQiLCJvd2wiLCJzbGlkZXJDb250YWluZXIiLCJhdXRvcGxheSIsIml0ZW1zIiwiaXRlbXNNb2JpbGUiLCJpdGVtc1RhYmxldCIsInNwZWVkIiwiY29sb3IiLCJtYXJnaW4iLCJmb3JtIiwibmF2IiwibG9vcCIsImRvdCIsImF1dG9wbGF5VGltZW91dE1vYmlsZSIsImRvdE1vYmlsZSIsIm93bEluaXRGdW5jdGlvbiIsImRvdHMiLCIkIiwic3RlcCIsIm93bENoYW5nZWRGdW5jdGlvbiIsInByb3AiLCJwcm9wZXJ0eSIsIm5hbWUiLCJ3aWR0aCIsImZpbmQiLCJyZW1vdmVBdHRyIiwiaW5jcmVtZW50IiwiZGVjcmVtZW50IiwiZ2V0UHJldkl0ZW0iLCJjc3MiLCJib3JkZXItY29sb3IiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiZ2V0TmV4dEl0ZW0iLCJib3JkZXItbGVmdCIsIndpZHRoQW5pbSIsInB1c2giLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZXNldFN0eWxlcyIsImNsaWNrIiwib25lIiwiZm9yRWFjaCIsIml0ZW0iLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm5leHRJdGVtSW5kZXgiLCJlYWNoIiwiaW5kZXgiLCJoYXNDbGFzcyIsInByZXZJdGVtIiwib3dsQ2Fyb3VzZWwiLCJsYXp5TG9hZCIsImF1dG9wbGF5VGltZW91dCIsImF1dG9wbGF5U3BlZWQiLCJzbWFydFNwZWVkIiwib25Jbml0aWFsaXplZCIsIm9uQ2hhbmdlIiwib25DaGFuZ2VkIiwicmVzcG9uc2l2ZSIsIjAiLCI2MDAiLCIxMDAwIiwicmVhZHkiLCJnZXRVcmxQYXJhbWV0ZXIiLCJzUGFyYW0iLCJzUGFyYW1ldGVyTmFtZSIsImkiLCJzUGFnZVVSTCIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwic1VSTFZhcmlhYmxlcyIsInNwbGl0IiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwia3ciLCJhcHBlbmQiLCJyZW1vdmUiLCJ0aXRsZSIsInZpZGUiLCJwb3N0ZXJUeXBlIiwiY2xhc3NOYW1lIiwibmF2VGV4dCIsImF1dG9wbGF5SG92ZXJQYXVzZSIsIjc2OCIsImF1dG9XaWR0aCIsIjEwMjAiLCIxMjgwIiwiMTI1MCIsIkFPUyIsImluaXQiLCJuZXdzbGV0dGVyT2siLCJxdWVyeVNlbGVjdG9yQWxsIiwiZG9jSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwidHJpZ2dlckhlaWdodCIsImlubmVySGVpZ2h0IiwidHdvV2Vla3MiLCJEYXRlIiwibm93IiwibmV3c0xldHRlclNob3duIiwic2hvd24iLCJjYWxsIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInNjcm9sbFkiLCJvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiYXR0ciIsInRoaXMiLCJvZmZzZXQiLCJ0b3AiLCJjdXJyZW50WWVhciIsImdldEZ1bGxZZWFyIiwidGV4dCIsImFkZENsYXNzIiwidmFsaWRhdG9yIiwibWV0aG9kcyIsIm51bWJlciIsInZhbHVlIiwiZWxlbWVudCIsIm9wdGlvbmFsIiwidGVzdCIsImhpZGUiLCJlbGVtIiwiZGlzcGxheSIsInZhbGlkYXRlIiwic2hvd0Vycm9ycyIsImVycm9yTWFwIiwiZXJyb3JMaXN0IiwidXBsb2FkRXJyb3JNZXNzYWdlIiwibm90aWZ5RGVsYXkiLCJkZWZhdWx0U2hvd0Vycm9ycyIsInJ1bGVzIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJsYXN0X25hbWUiLCJwb3NpdGlvbiIsImNvbXBhbnkiLCJlbWFpbCIsInBob25lIiwibWlubGVuZ3RoIiwiZGVzY3JpcHRpb24iLCJtZXNzYWdlcyIsInN1Ym1pdEhhbmRsZXIiLCJyb3dEYXRhIiwiRm9ybURhdGEiLCJ1cmwiLCJnZXRBdHRyaWJ1dGUiLCJjb250YWN0RXJyb3JNZXNzYWdlIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZGF0YXNldCIsImhhbmRsZXIiLCJoYW5kbGVGb3JtU3VibWl0IiwidHlwZSIsInRoZW4iLCJyZXMiLCJkYXRhIiwic3RhdHVzIiwic2hvdyIsInRyaWdnZXIiLCJ0ZXh0Q29udGVudCIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJlcnJvciIsImlucHV0TmFtZSIsImNhdGNoIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IkFBQUEsWUEwR0EsU0FBQUEsVUFDQSxHQUFBQyxHQUFBQyxVQUFBQyxPQUFBLE9BQUFDLEtBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFBLGtCQUNBRyxFQUFBSCxVQUFBQyxPQUFBLE9BQUFDLEtBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFBLElBRUFJLEVBQUFDLFNBQUFDLGNBQUEsV0FDQUMsRUFBQUYsU0FBQUcsY0FBQSxPQUNBQyxFQUFBSixTQUFBSyxlQUFBWCxHQUNBWSxFQUFBTixTQUFBTSxJQW9CQSxPQWxCQVAsSUFBQU8sRUFBQUMsWUFBQVIsR0FFQUcsRUFBQU0sVUFBQUMsSUFBQSxVQUNBUCxFQUFBUSxpQkFBQSxRQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUMsT0FBQUMsTUFBQUMsUUFBQSxJQUVBWixFQUFBYSxZQUFB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QSxhQUFBakUsRUFBQStJLFFBQUFDLFNBRUFDLGlCQUFBTixFQUFBRixHQUNBUyxLQUFBbEosRUFBQStJLFFBQUFHLE9BQ0FDLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUMsS0FBQUMsUUFDQTlJLEVBQUEsaUJBQUErSSxPQUNBL0ksRUFBQSxRQUFBZ0osUUFBQSxXQUVBWCxFQUFBWSxZQUFBLGlDQUNBRixLQUFBVixJQUdBYSxPQUFBQyxLQUFBUCxFQUFBQyxNQUFBL0wsT0FBQSxHQUNBb00sT0FBQUMsS0FBQVAsRUFBQUMsTUFBQU8sSUFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUFELEVBQUEvRixNQUFBLEtBQUEsRUFHQSxPQUZBcEcsVUFBQUMsY0FBQSxTQUFBbU0sRUFBQSxLQUVBNUwsVUFBQUMsSUFBQSxpQkFHQTRMLE1BQUEsU0FBQUYsR0FDQUcsUUFBQUMsSUFBQUoiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG4gIHZhciBnZXRVcmxQYXJhbWV0ZXIgPSBmdW5jdGlvbiBnZXRVcmxQYXJhbWV0ZXIoc1BhcmFtKSB7XG4gICAgdmFyIHNQYWdlVVJMID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSksXG4gICAgICAgIHNVUkxWYXJpYWJsZXMgPSBzUGFnZVVSTC5zcGxpdCgnJicpLFxuICAgICAgICBzUGFyYW1ldGVyTmFtZSxcbiAgICAgICAgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzVVJMVmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzUGFyYW1ldGVyTmFtZSA9IHNVUkxWYXJpYWJsZXNbaV0uc3BsaXQoJz0nKTtcblxuICAgICAgaWYgKHNQYXJhbWV0ZXJOYW1lWzBdID09PSBzUGFyYW0pIHtcbiAgICAgICAgcmV0dXJuIHNQYXJhbWV0ZXJOYW1lWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogZGVjb2RlVVJJQ29tcG9uZW50KHNQYXJhbWV0ZXJOYW1lWzFdKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGt3ID0gZ2V0VXJsUGFyYW1ldGVyKCdrdycpO1xuICB2YXIgbG9jYXRpb24gPSBnZXRVcmxQYXJhbWV0ZXIoJ2xvY2F0aW9uJyk7XG5cbiAgaWYgKGt3ICYmIGxvY2F0aW9uKSB7XG4gICAgJCgnLmt3JykuYXBwZW5kKGt3ICsgJyBpbiAnICsgbG9jYXRpb24pO1xuICB9IGVsc2UgaWYgKGt3KSB7XG4gICAgJCgnLmt3JykuYXBwZW5kKGt3KTtcbiAgfSBlbHNlIGlmIChsb2NhdGlvbikge1xuICAgICQoJy5rdycpLmFwcGVuZCgnTW9iaWxlIEFwcCBEZXZlbG9wbWVudCBDb21wYW55IGluICcgKyBsb2NhdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgJCgnLmt3JykuYXBwZW5kKCdNb2JpbGUgQXBwIERldmVsb3BtZW50IENvbXBhbnknKTtcbiAgfVxuXG4gICQoJ21ldGFbbmFtZT1kZXNjcmlwdGlvbl0nKS5yZW1vdmUoKTtcblxuICBpZiAoa3cpIHtcbiAgICBkb2N1bWVudC50aXRsZSA9IGt3ICsgJyB8IEludGVsbGVjdHNvZnQgVVMnO1xuICAgICQoJ2hlYWQnKS5hcHBlbmQoJzxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9XCJRdWlja2x5IGJ1aWxkIHRoZSB0ZWFtIHlvdSBuZWVkIHdpdGggb3VyICcgKyBrdyArICcgaW4gJyArIGxvY2F0aW9uICsgJy4gRW1wbG95IHRoZSBiZXN0IGFwcCBkZXZlbG9wZXJzIGZvciB5b3VyIG1vYmlsZSBhcHAgbm93LlwiPicpO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LnRpdGxlID0gJ01vYmlsZSBBcHAgRGV2ZWxvcG1lbnQgQ29tcGFueSB8IEludGVsbGVjdHNvZnQgVVMnO1xuICAgICQoJ2hlYWQnKS5hcHBlbmQoJzxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9XCJRdWlja2x5IGJ1aWxkIHRoZSB0ZWFtIHlvdSBuZWVkIHdpdGggb3VyIE1vYmlsZSBBcHAgRGV2ZWxvcG1lbnQgQ29tcGFueS4gRW1wbG95IHRoZSBiZXN0IGFwcCBkZXZlbG9wZXJzIGZvciB5b3VyIG1vYmlsZSBhcHAgbm93LlwiPicpO1xuICB9XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgLypcdFZpZGVvIEJhY2tncm91bmRcbiAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgJCgnLnZpZGVvLXBsYXknKS52aWRlKFwiL3N0YXRpYy83L2ltYWdlcy92aWRlby92aWRlb1wiLCB7XG4gICAgcG9zdGVyVHlwZTogXCJqcGdcIixcbiAgICBjbGFzc05hbWU6ICd2aWRlby1jb250YWluZXInXG4gIH0pO1xufSk7XG5cbi8vIENsaWVudHMgc2VjdGlvblxuJCgnLmNsaWVudHNfX2NvbnRhaW5lcicpLm93bENhcm91c2VsKHtcbiAgbG9vcDogdHJ1ZSxcbiAgZG90czogZmFsc2UsXG4gIG5hdjogdHJ1ZSxcbiAgbmF2VGV4dDogW1wiXCIsIFwiXCJdLFxuICBhdXRvcGxheTogdHJ1ZSxcbiAgYXV0b3BsYXlUaW1lb3V0OiAzMDAwLFxuICBhdXRvcGxheUhvdmVyUGF1c2U6IHRydWUsXG4gIG1hcmdpbjogMTAsXG4gIHJlc3BvbnNpdmU6IHtcbiAgICAwOiB7XG4gICAgICBpdGVtczogMVxuICAgIH0sXG4gICAgNzY4OiB7XG4gICAgICBpdGVtczogMixcbiAgICAgIGF1dG9XaWR0aDogdHJ1ZVxuICAgIH0sXG4gICAgMTAyMDoge1xuICAgICAgaXRlbXM6IDMsXG4gICAgICBhdXRvV2lkdGg6IHRydWVcbiAgICB9LFxuICAgIDEyODA6IHtcbiAgICAgIGl0ZW1zOiA0XG4gICAgfVxuICB9XG59KTtcblxuLy8gQXdhcmRzIHNlY3Rpb25cbiQoJy5hYm91dF9fYXdhcmRzJykub3dsQ2Fyb3VzZWwoe1xuICBsb29wOiB0cnVlLFxuICBkb3RzOiBmYWxzZSxcbiAgYXV0b3BsYXk6IHRydWUsXG4gIGF1dG9wbGF5VGltZW91dDogMzAwMCxcbiAgYXV0b3BsYXlIb3ZlclBhdXNlOiB0cnVlLFxuICBuYXY6IHRydWUsXG4gIG5hdlRleHQ6IFtcIlwiLCBcIlwiXSxcbiAgcmVzcG9uc2l2ZToge1xuICAgIDA6IHtcbiAgICAgIGl0ZW1zOiAxXG4gICAgfSxcbiAgICA3Njg6IHtcbiAgICAgIGl0ZW1zOiAzXG4gICAgfSxcbiAgICAxMjUwOiB7XG4gICAgICBpdGVtczogNFxuICAgIH1cbiAgfVxufSk7XG5cbkFPUy5pbml0KCk7XG5cbmZ1bmN0aW9uIE5vdGlmeSgpIHtcbiAgdmFyIG1lc3NhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdEZWZhdWx0IG1lc3NhZ2UnO1xuICB2YXIgZGVsYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDMwMDA7XG5cbiAgdmFyIGV4aXN0aW5nTm90aWZ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGlmeScpO1xuICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB2YXIgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtZXNzYWdlKTtcbiAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuXG4gIGlmIChleGlzdGluZ05vdGlmeSkgYm9keS5yZW1vdmVDaGlsZChleGlzdGluZ05vdGlmeSk7XG5cbiAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCdub3RpZnknKTtcbiAgd3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGUudGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSAwO1xuICB9KTtcbiAgd3JhcHBlci5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgd3JhcHBlci5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICB3cmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcbiAgfSwgMzAwKTtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICB3cmFwcGVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIHdyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMjAwJSknO1xuICB9LCBkZWxheSk7XG5cbiAgcmV0dXJuIGJvZHkuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG59XG5cbnZhciBuZXdzbGV0dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ld3NsZXR0ZXInKTtcbnZhciBuZXdzbGV0dGVyT2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAtb2snKTtcbnZhciBkb2NIZWlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykub2Zmc2V0SGVpZ2h0O1xudmFyIHRyaWdnZXJIZWlnaHQgPSBkb2NIZWlnaHQgKiAwLjc1IC0gd2luZG93LmlubmVySGVpZ2h0O1xudmFyIG5ld3NMZXR0ZXJLZXkgPSAnaXNOZXdzbGV0dGVyJztcbnZhciB0d29XZWVrcyA9IDcgKiAyNCAqIDYwICogNjAgKiAxMDAwICogMjtcbnZhciBkYXRlTm93ID0gRGF0ZS5ub3coKTtcbnZhciBuZXdzTGV0dGVyU2hvd24gPSB7XG4gIGRhdGU6IGRhdGVOb3cgKyB0d29XZWVrcyxcbiAgc2hvd246IHRydWVcbn07XG5cbmZ1bmN0aW9uIHNob3dOZXdzbGV0dGVyUG9wdXAoKSB7XG4gIHZhciBpc05ld3NMZXR0ZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKG5ld3NMZXR0ZXJLZXkpKTtcbiAgaWYgKCFpc05ld3NMZXR0ZXIgfHwgaXNOZXdzTGV0dGVyLmRhdGUgPCBkYXRlTm93KSB7XG4gICAgcmV0dXJuIG5ld3NsZXR0ZXIgJiYgbmV3c2xldHRlci5jbGFzc0xpc3QuYWRkKCduZXdzbGV0dGVyLS1zaG93Jyk7XG4gIH1cbn1cblxubmV3c2xldHRlck9rICYmIFtdLmZvckVhY2guY2FsbChuZXdzbGV0dGVyT2ssIGZ1bmN0aW9uIChpdGVtKSB7XG4gIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgbmV3c2xldHRlci5jbGFzc0xpc3QucmVtb3ZlKCduZXdzbGV0dGVyLS1zaG93Jyk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obmV3c0xldHRlcktleSwgSlNPTi5zdHJpbmdpZnkobmV3c0xldHRlclNob3duKSk7XG4gIH0pO1xufSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBzY3JvbGxIZWlnaHQgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgc2Nyb2xsSGVpZ2h0ID4gdHJpZ2dlckhlaWdodCA/IHNob3dOZXdzbGV0dGVyUG9wdXAoKSA6ICcnO1xufSk7XG5cbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdhW2hyZWZePVwiI1wiXScsIGZ1bmN0aW9uIChldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICBzY3JvbGxUb3A6ICQoJC5hdHRyKHRoaXMsICdocmVmJykpLm9mZnNldCgpLnRvcFxuICB9LCA1MDApO1xufSk7XG5cbmlmICgkKCcuZm9vdGVyX195ZWFyJykubGVuZ3RoKSB7XG4gIHZhciBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiAgJCgnLmZvb3Rlcl9feWVhcicpLnRleHQoY3VycmVudFllYXIpO1xufVxuXG5pZiAoJCgnaHRtbFtsYW5nPVwibm9cIl0nKS5sZW5ndGgpIHtcbiAgJCgnLndvcmtfX2N0YScpLmFkZENsYXNzKCd3b3JrX19jdGEtLW5vJyk7XG4gICQoJy53b3JrX19jdGEtdGl0bGUnKS5hZGRDbGFzcygnd29ya19fY3RhLXRpdGxlLS1ubycpO1xuICAkKCcuY29tcGV0ZW5jZV9fY29udGVudCcpLmFkZENsYXNzKCdjb21wZXRlbmNlX19jb250ZW50LS1ubycpO1xufVxuXG4vLyBSYW5raW5nIHdpZGdldCBjYXJvdXNlbCBpbml0aWFsaXphdGlvblxudmFyIG93bCA9ICQoJyNyYW5raW5nJyk7XG52YXIgZm9ybSA9ICQoJyNmb3JtUmFua2luZycpO1xuXG5maWxsSW5Pd2xJbml0KG93bCwgJy5yYW5raW5nJywgdHJ1ZSwgNCwgNCwgNywgMTAsICcwLCAxMTAsIDI1MCcsIDUsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIHRydWUsIDIwMDAsIGZhbHNlLCA1KTtcbmZpbGxJbk93bEluaXQoZm9ybSwgJy5yYW5raW5nLWZvcm0nLCBmYWxzZSwgNCwgMiwgMywgNiwgJzI1NSwgMjU1LCAyNTUnLCAxMCwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCB0cnVlLCAyMDAwLCB0cnVlLCA5KTtcblxuZnVuY3Rpb24gZmlsbEluT3dsSW5pdChvd2wsIHNsaWRlckNvbnRhaW5lciwgYXV0b3BsYXksIGl0ZW1zLCBpdGVtc01vYmlsZSwgaXRlbXNUYWJsZXQsIHNwZWVkLCBjb2xvciwgbWFyZ2luLCBmb3JtLCBuYXYsIGxvb3AsIGRvdCwgYXV0b3BsYXlUaW1lb3V0TW9iaWxlLCBkb3RNb2JpbGUpIHtcbiAgdmFyIGRvdHMgPSB2b2lkIDAsXG4gICAgICB3aWR0aCA9IDAsXG4gICAgICBvcGFjaXR5ID0gMSxcbiAgICAgIHdpZHRoQW5pbSA9IFtdO1xuXG4gIGlmIChvd2wubGVuZ3RoID4gMCkge1xuICAgIG93bC5vd2xDYXJvdXNlbCh7XG4gICAgICBsb29wOiBsb29wLFxuICAgICAgbGF6eUxvYWQ6IHRydWUsXG4gICAgICBtYXJnaW46IG1hcmdpbixcbiAgICAgIG5hdjogbmF2LFxuICAgICAgaXRlbXM6IGl0ZW1zLFxuICAgICAgZG90czogZG90LFxuICAgICAgYXV0b3BsYXk6IGF1dG9wbGF5LFxuICAgICAgYXV0b3BsYXlUaW1lb3V0OiA3MDAwLFxuICAgICAgYXV0b3BsYXlTcGVlZDogMjAwMCxcbiAgICAgIHNtYXJ0U3BlZWQ6IDYwMCxcbiAgICAgIG9uSW5pdGlhbGl6ZWQ6IG93bEluaXRGdW5jdGlvbixcbiAgICAgIG9uQ2hhbmdlOiBvd2xDaGFuZ2VkRnVuY3Rpb24sXG4gICAgICBvbkNoYW5nZWQ6IG93bEluaXRGdW5jdGlvbixcbiAgICAgIHJlc3BvbnNpdmU6IHtcbiAgICAgICAgMDoge1xuICAgICAgICAgIGl0ZW1zOiBmb3JtID8gMiA6IDEsXG4gICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgIGRvdHM6IGRvdE1vYmlsZSxcbiAgICAgICAgICBuYXY6IGZhbHNlLFxuICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgICAgIGF1dG9wbGF5VGltZW91dDogYXV0b3BsYXlUaW1lb3V0TW9iaWxlXG4gICAgICAgIH0sXG4gICAgICAgIDYwMDoge1xuICAgICAgICAgIGl0ZW1zOiBmb3JtID8gaXRlbXNUYWJsZXQgOiBpdGVtc01vYmlsZSxcbiAgICAgICAgICBtYXJnaW46IGZvcm0gPyAyNSA6IG1hcmdpblxuICAgICAgICB9LFxuICAgICAgICAxMDAwOiB7XG4gICAgICAgICAgaXRlbXM6IGl0ZW1zVGFibGV0LFxuICAgICAgICAgIG1hcmdpbjogZm9ybSA/IDI1IDogbWFyZ2luXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG93bEluaXRGdW5jdGlvbigpIHtcbiAgICBkb3RzID0gJChzbGlkZXJDb250YWluZXIgKyAnIC5vd2wtZG90Jyk7XG4gICAgaWYgKGRvdHMubGVuZ3RoICYmICFuYXYpIHtcbiAgICAgIHN0ZXAoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvd2xDaGFuZ2VkRnVuY3Rpb24ocHJvcCkge1xuICAgIGlmIChwcm9wLnByb3BlcnR5Lm5hbWUgPT09ICdwb3NpdGlvbicpIHtcbiAgICAgIHdpZHRoID0gNTA7XG4gICAgfVxuICAgIGRvdHMuZmluZCgnc3BhbicpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgd2lkdGggPSAwO1xuICAgIG9wYWNpdHkgPSAxO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RlcCgpIHtcbiAgICB2YXIgaW5jcmVtZW50ID0gNTAgLyAoc3BlZWQgKiA2MCk7XG4gICAgdmFyIGRlY3JlbWVudCA9IDEgLyAoc3BlZWQgKiA2MCk7XG4gICAgd2lkdGggKz0gaW5jcmVtZW50O1xuICAgIG9wYWNpdHkgLT0gZGVjcmVtZW50O1xuICAgICQoZG90c1tnZXRQcmV2SXRlbSgpXSkuZmluZCgnc3BhbicpLmNzcyh7XG4gICAgICAnYm9yZGVyLWNvbG9yJzogJ3JnYmEoJyArIGNvbG9yICsgJywgJyArIG9wYWNpdHkgKyAnKSdcbiAgICB9KTtcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gNTk5KSB7XG4gICAgICAkKGRvdHNbZ2V0TmV4dEl0ZW0oKV0pLmZpbmQoJ3NwYW4nKS5jc3Moe1xuICAgICAgICAnYm9yZGVyLWxlZnQnOiAnc29saWQgJyArIHdpZHRoIC8gMiArICdweCByZ2JhKCcgKyBjb2xvciArICcsIDEpJ1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoZG90c1tnZXROZXh0SXRlbSgpXSkuZmluZCgnc3BhbicpLmNzcyh7XG4gICAgICAgICdib3JkZXItbGVmdCc6ICdzb2xpZCAnICsgd2lkdGggKyAncHggcmdiYSgnICsgY29sb3IgKyAnLCAxKSdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh3aWR0aCA8IDUwKSB7XG4gICAgICB3aWR0aEFuaW0ucHVzaChyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNldFN0eWxlcygpO1xuICAgICAgZG90c1tnZXROZXh0SXRlbSgpXS5jbGljaygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0U3R5bGVzKCkge1xuICAgIHdpZHRoID0gMDtcbiAgICBvcGFjaXR5ID0gMTtcbiAgICAkKGRvdHNbZ2V0UHJldkl0ZW0oKV0pLmZpbmQoJ3NwYW4nKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICQoZG90c1tnZXROZXh0SXRlbSgpXSkuZmluZCgnc3BhbicpLmNzcyh7XG4gICAgICAnYm9yZGVyLWxlZnQnOiAnJ1xuICAgIH0pO1xuICAgIGRvdHMub25lKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHdpZHRoQW5pbS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGl0ZW0pO1xuICAgICAgfSk7XG4gICAgICB3aWR0aEFuaW0gPSBbXTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE5leHRJdGVtKCkge1xuICAgIHZhciBuZXh0SXRlbUluZGV4ID0gMDtcbiAgICAkLmVhY2goZG90cywgZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgICBpZiAoJChpdGVtKS5oYXNDbGFzcygnYWN0aXZlJykgJiYgaW5kZXggPCBkb3RzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgbmV4dEl0ZW1JbmRleCA9IGluZGV4ICsgMTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXh0SXRlbUluZGV4O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UHJldkl0ZW0oKSB7XG4gICAgdmFyIHByZXZJdGVtID0gZG90cy5sZW5ndGggLSAxO1xuICAgICQuZWFjaChkb3RzLCBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgIGlmICgkKGl0ZW0pLmhhc0NsYXNzKCdhY3RpdmUnKSAmJiBpbmRleCA8IGRvdHMubGVuZ3RoIC0gMSkge1xuICAgICAgICBwcmV2SXRlbSA9IGluZGV4O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHByZXZJdGVtO1xuICB9XG59XG5cbiQudmFsaWRhdG9yLm1ldGhvZHMubnVtYmVyID0gZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IC9eWzAtOStcXC0oKSDigJRdKyQvLnRlc3QodmFsdWUpO1xufTtcblxudmFyIGhpZGUgPSBmdW5jdGlvbiBoaWRlKGVsZW0pIHtcbiAgcmV0dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn07XG5cbiQoJ2Zvcm0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgJCh0aGlzKS52YWxpZGF0ZSh7XG4gICAgc2hvd0Vycm9yczogZnVuY3Rpb24gc2hvd0Vycm9ycyhlcnJvck1hcCwgZXJyb3JMaXN0KSB7XG4gICAgICBpZiAoZXJyb3JNYXBbJ2F0dGFjaCddKSBOb3RpZnkodXBsb2FkRXJyb3JNZXNzYWdlLCBub3RpZnlEZWxheSk7XG4gICAgICB0aGlzLmRlZmF1bHRTaG93RXJyb3JzKCk7XG4gICAgfSxcbiAgICBydWxlczoge1xuICAgICAgbmFtZToge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgIH0sXG4gICAgICBsYXN0X25hbWU6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICB9LFxuICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICB9LFxuICAgICAgY29tcGFueToge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgIH0sXG4gICAgICBlbWFpbDoge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICB9LFxuICAgICAgcGhvbmU6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIG51bWJlcjogdHJ1ZSxcbiAgICAgICAgbWF4bGVuZ3RoOiAyNTUsXG4gICAgICAgIG1pbmxlbmd0aDogNVxuICAgICAgfSxcbiAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgbWF4bGVuZ3RoOiA2NTUzNVxuICAgICAgfVxuICAgIH0sXG4gICAgbWVzc2FnZXM6IHtcbiAgICAgIGVtYWlsOiB7XG4gICAgICAgIGVtYWlsOiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy4nXG4gICAgICB9XG4gICAgfSxcbiAgICBzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbiBzdWJtaXRIYW5kbGVyKGZvcm0sIGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIHJvd0RhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgICB2YXIgdXJsID0gZm9ybS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdXJsJyk7XG4gICAgICB2YXIgY29udGFjdEVycm9yTWVzc2FnZSA9IGZvcm0ucXVlcnlTZWxlY3RvcignLnJlZ2lzdHJhdGlvbl9fZXJyb3InKTtcbiAgICAgIHZhciB0aHhNZXNzYWdlID0gZm9ybS5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICByb3dEYXRhLmFwcGVuZCgnaGFuZGxlcl9pZCcsIGZvcm0uZGF0YXNldC5oYW5kbGVyKTtcblxuICAgICAgaGFuZGxlRm9ybVN1Ym1pdCh1cmwsIHJvd0RhdGEsIHtcbiAgICAgICAgdHlwZTogZm9ybS5kYXRhc2V0LnR5cGVcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgJCgnLm5vdGlmaWNhdGlvbicpLnNob3coKTtcbiAgICAgICAgICAkKFwiZm9ybVwiKS50cmlnZ2VyKFwicmVzZXRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGFjdEVycm9yTWVzc2FnZS50ZXh0Q29udGVudCA9ICdDaGVjayBzZWxlY3RlZCBmaWVsZHMsIHBsZWFzZS4nO1xuICAgICAgICAgIHNob3coY29udGFjdEVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVzLmRhdGEpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyhyZXMuZGF0YSkubWFwKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgdmFyIGlucHV0TmFtZSA9IGVycm9yLnNwbGl0KCctJylbMV07XG4gICAgICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT0nICsgaW5wdXROYW1lICsgJ10nKTtcblxuICAgICAgICAgICAgcmV0dXJuIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2hhcy1lcnJvcicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pOyJdfQ==
