"use strict";var handleFormSubmit=window.handleFormSubmit,notifyDelay=1e4;$(".clients__container").owlCarousel({stagePadding:50,loop:!0,autoWidth:!0,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,margin:10,responsive:{0:{items:1},768:{items:2,autoWidth:!1},1020:{items:3},1280:{items:4,autoWidth:!1}}}),$(".about__awards").owlCarousel({loop:!0,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,nav:!0,navText:["",""],responsive:{0:{items:1},768:{items:3},1250:{items:4}}}),AOS.init(),$.validator.methods.number=function(e,t){return this.optional(t)||/^[0-9+\-() â€”]+$/.test(e)};var hide=function(e){return e.style.display="none"};function Notify(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Default message",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,r=document.querySelector(".notify"),n=document.createElement("div"),o=document.createTextNode(e),a=document.body;return r&&a.removeChild(r),n.classList.add("notify"),n.addEventListener("click",function(e){return e.target.style.opacity=0}),n.appendChild(o),setTimeout(function(){n.style.opacity=1,n.style.transform="translateY(0)"},300),setTimeout(function(){n.style.opacity=0,n.style.transform="translateY(200%)"},t),a.appendChild(n)}$("form").each(function(){$(this).validate({showErrors:function(e,t){e.attach&&Notify(uploadErrorMessage,notifyDelay),this.defaultShowErrors()},rules:{name:{required:!0,maxlength:255},last_name:{required:!0,maxlength:255},position:{required:!0,maxlength:255},company:{required:!0,maxlength:255},email:{required:!0,email:!0,maxlength:255},phone:{required:!0,number:!0,maxlength:255,minlength:5},description:{required:!1,maxlength:65535}},messages:{email:{email:"Please enter a valid email address."}},submitHandler:function(e,t){t.preventDefault();var r=new FormData(e),n=e.getAttribute("data-url"),o=e.querySelector(".registration__error");e.nextElementSibling;r.append("handler_id",e.dataset.handler),handleFormSubmit(n,r,{type:e.dataset.type}).then(function(e){e.data.status?($(".notification").show(),$("form").trigger("reset")):(o.textContent="Check selected fields, please.",show(o)),Object.keys(e.data).length>1&&Object.keys(e.data).map(function(e){var t=e.split("-")[1];return document.querySelector("[name="+t+"]").classList.add("has-error")})}).catch(function(e){console.log(e)})}})});var newsletter=document.querySelector(".newsletter"),newsletterOk=document.querySelectorAll(".popup-ok"),docHeight=document.querySelector("body").offsetHeight,triggerHeight=.75*docHeight-window.innerHeight,newsLetterKey="isNewsletter",twoWeeks=12096e5,dateNow=Date.now(),newsLetterShown={date:dateNow+twoWeeks,shown:!0};function showNewsletterPopup(){var e=JSON.parse(localStorage.getItem(newsLetterKey));if(!e||e.date<dateNow)return newsletter&&newsletter.classList.add("newsletter--show")}if(newsletterOk&&[].forEach.call(newsletterOk,function(e){e.addEventListener("click",function(){newsletter.classList.remove("newsletter--show"),localStorage.setItem(newsLetterKey,JSON.stringify(newsLetterShown))})}),window.addEventListener("scroll",function(){window.scrollY>triggerHeight&&showNewsletterPopup()}),$(document).on("click",'a[href^="#"]',function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top},500)}),$(".footer__year").length){var currentYear=(new Date).getFullYear();$(".footer__year").text(currentYear)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaGFuZGxlRm9ybVN1Ym1pdCIsIndpbmRvdyIsIm5vdGlmeURlbGF5IiwiJCIsIm93bENhcm91c2VsIiwic3RhZ2VQYWRkaW5nIiwibG9vcCIsImF1dG9XaWR0aCIsImRvdHMiLCJhdXRvcGxheSIsImF1dG9wbGF5VGltZW91dCIsImF1dG9wbGF5SG92ZXJQYXVzZSIsIm1hcmdpbiIsInJlc3BvbnNpdmUiLCIwIiwiaXRlbXMiLCI3NjgiLCIxMDIwIiwiMTI4MCIsIm5hdiIsIm5hdlRleHQiLCIxMjUwIiwiQU9TIiwiaW5pdCIsInZhbGlkYXRvciIsIm1ldGhvZHMiLCJudW1iZXIiLCJ2YWx1ZSIsImVsZW1lbnQiLCJ0aGlzIiwib3B0aW9uYWwiLCJ0ZXN0IiwiaGlkZSIsImVsZW0iLCJzdHlsZSIsImRpc3BsYXkiLCJOb3RpZnkiLCJtZXNzYWdlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZGVsYXkiLCJleGlzdGluZ05vdGlmeSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndyYXBwZXIiLCJjcmVhdGVFbGVtZW50IiwidGV4dE5vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImJvZHkiLCJyZW1vdmVDaGlsZCIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0Iiwib3BhY2l0eSIsImFwcGVuZENoaWxkIiwic2V0VGltZW91dCIsInRyYW5zZm9ybSIsImVhY2giLCJ2YWxpZGF0ZSIsInNob3dFcnJvcnMiLCJlcnJvck1hcCIsImVycm9yTGlzdCIsInVwbG9hZEVycm9yTWVzc2FnZSIsImRlZmF1bHRTaG93RXJyb3JzIiwicnVsZXMiLCJuYW1lIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJsYXN0X25hbWUiLCJwb3NpdGlvbiIsImNvbXBhbnkiLCJlbWFpbCIsInBob25lIiwibWlubGVuZ3RoIiwiZGVzY3JpcHRpb24iLCJtZXNzYWdlcyIsInN1Ym1pdEhhbmRsZXIiLCJmb3JtIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInJvd0RhdGEiLCJGb3JtRGF0YSIsInVybCIsImdldEF0dHJpYnV0ZSIsImNvbnRhY3RFcnJvck1lc3NhZ2UiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJhcHBlbmQiLCJkYXRhc2V0IiwiaGFuZGxlciIsInR5cGUiLCJ0aGVuIiwicmVzIiwiZGF0YSIsInN0YXR1cyIsInNob3ciLCJ0cmlnZ2VyIiwidGV4dENvbnRlbnQiLCJPYmplY3QiLCJrZXlzIiwibWFwIiwiZXJyb3IiLCJpbnB1dE5hbWUiLCJzcGxpdCIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsIm5ld3NsZXR0ZXIiLCJuZXdzbGV0dGVyT2siLCJxdWVyeVNlbGVjdG9yQWxsIiwiZG9jSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwidHJpZ2dlckhlaWdodCIsImlubmVySGVpZ2h0IiwibmV3c0xldHRlcktleSIsInR3b1dlZWtzIiwiZGF0ZU5vdyIsIkRhdGUiLCJub3ciLCJuZXdzTGV0dGVyU2hvd24iLCJkYXRlIiwic2hvd24iLCJzaG93TmV3c2xldHRlclBvcHVwIiwiaXNOZXdzTGV0dGVyIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImZvckVhY2giLCJjYWxsIiwiaXRlbSIsInJlbW92ZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzY3JvbGxZIiwib24iLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiYXR0ciIsIm9mZnNldCIsInRvcCIsImN1cnJlbnRZZWFyIiwiZ2V0RnVsbFllYXIiLCJ0ZXh0Il0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLElBQUFBLGlCQUFBQyxPQUFBRCxpQkFDQUUsWUFBQSxJQUdBQyxFQUFBLHVCQUFBQyxhQUNBQyxhQUFBLEdBQ0FDLE1BQUEsRUFDQUMsV0FBQSxFQUNBQyxNQUFBLEVBQ0FDLFVBQUEsRUFDQUMsZ0JBQUEsSUFDQUMsb0JBQUEsRUFDQUMsT0FBQSxHQUNBQyxZQUNBQyxHQUNBQyxNQUFBLEdBRUFDLEtBQ0FELE1BQUEsRUFDQVIsV0FBQSxHQUVBVSxNQUNBRixNQUFBLEdBRUFHLE1BQ0FILE1BQUEsRUFDQVIsV0FBQSxNQU1BSixFQUFBLGtCQUFBQyxhQUNBRSxNQUFBLEVBQ0FFLE1BQUEsRUFDQUMsVUFBQSxFQUNBQyxnQkFBQSxJQUNBQyxvQkFBQSxFQUNBUSxLQUFBLEVBQ0FDLFNBQUEsR0FBQSxJQUNBUCxZQUNBQyxHQUNBQyxNQUFBLEdBRUFDLEtBQ0FELE1BQUEsR0FFQU0sTUFDQU4sTUFBQSxNQUtBTyxJQUFBQyxPQUVBcEIsRUFBQXFCLFVBQUFDLFFBQUFDLE9BQUEsU0FBQUMsRUFBQUMsR0FDQSxPQUFBQyxLQUFBQyxTQUFBRixJQUFBLGtCQUFBRyxLQUFBSixJQUdBLElBQUFLLEtBQUEsU0FBQUMsR0FDQSxPQUFBQSxFQUFBQyxNQUFBQyxRQUFBLFFBaUZBLFNBQUFDLFNBQ0EsSUFBQUMsRUFBQUMsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBQSxrQkFDQUcsRUFBQUgsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBQSxJQUVBSSxFQUFBQyxTQUFBQyxjQUFBLFdBQ0FDLEVBQUFGLFNBQUFHLGNBQUEsT0FDQUMsRUFBQUosU0FBQUssZUFBQVgsR0FDQVksRUFBQU4sU0FBQU0sS0FvQkEsT0FsQkFQLEdBQUFPLEVBQUFDLFlBQUFSLEdBRUFHLEVBQUFNLFVBQUFDLElBQUEsVUFDQVAsRUFBQVEsaUJBQUEsUUFBQSxTQUFBQyxHQUNBLE9BQUFBLEVBQUFDLE9BQUFyQixNQUFBc0IsUUFBQSxJQUVBWCxFQUFBWSxZQUFBVixHQUVBVyxXQUFBLFdBQ0FiLEVBQUFYLE1BQUFzQixRQUFBLEVBQ0FYLEVBQUFYLE1BQUF5QixVQUFBLGlCQUNBLEtBRUFELFdBQUEsV0FDQWIsRUFBQVgsTUFBQXNCLFFBQUEsRUFDQVgsRUFBQVgsTUFBQXlCLFVBQUEsb0JBQ0FsQixHQUVBUSxFQUFBUSxZQUFBWixHQXpHQTFDLEVBQUEsUUFBQXlELEtBQUEsV0FDQXpELEVBQUEwQixNQUFBZ0MsVUFDQUMsV0FBQSxTQUFBQyxFQUFBQyxHQUNBRCxFQUFBLFFBQUEzQixPQUFBNkIsbUJBQUEvRCxhQUNBMkIsS0FBQXFDLHFCQUVBQyxPQUNBQyxNQUNBQyxVQUFBLEVBQ0FDLFVBQUEsS0FFQUMsV0FDQUYsVUFBQSxFQUNBQyxVQUFBLEtBRUFFLFVBQ0FILFVBQUEsRUFDQUMsVUFBQSxLQUVBRyxTQUNBSixVQUFBLEVBQ0FDLFVBQUEsS0FFQUksT0FDQUwsVUFBQSxFQUNBSyxPQUFBLEVBQ0FKLFVBQUEsS0FFQUssT0FDQU4sVUFBQSxFQUNBM0MsUUFBQSxFQUNBNEMsVUFBQSxJQUNBTSxVQUFBLEdBRUFDLGFBQ0FSLFVBQUEsRUFDQUMsVUFBQSxRQUdBUSxVQUNBSixPQUNBQSxNQUFBLHdDQUdBSyxjQUFBLFNBQUFDLEVBQUFDLEdBQ0FBLEVBQUFDLGlCQUNBLElBQUFDLEVBQUEsSUFBQUMsU0FBQUosR0FDQUssRUFBQUwsRUFBQU0sYUFBQSxZQUNBQyxFQUFBUCxFQUFBcEMsY0FBQSx3QkFDQW9DLEVBQUFRLG1CQUNBTCxFQUFBTSxPQUFBLGFBQUFULEVBQUFVLFFBQUFDLFNBRUEzRixpQkFBQXFGLEVBQUFGLEdBQ0FTLEtBQUFaLEVBQUFVLFFBQUFFLE9BQ0FDLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUMsS0FBQUMsUUFDQTdGLEVBQUEsaUJBQUE4RixPQUNBOUYsRUFBQSxRQUFBK0YsUUFBQSxXQUVBWCxFQUFBWSxZQUFBLGlDQUNBRixLQUFBVixJQUdBYSxPQUFBQyxLQUFBUCxFQUFBQyxNQUFBeEQsT0FBQSxHQUNBNkQsT0FBQUMsS0FBQVAsRUFBQUMsTUFBQU8sSUFBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUFELEVBQUFFLE1BQUEsS0FBQSxHQUdBLE9BRkE5RCxTQUFBQyxjQUFBLFNBQUE0RCxFQUFBLEtBRUFyRCxVQUFBQyxJQUFBLGlCQUdBc0QsTUFBQSxTQUFBSCxHQUNBSSxRQUFBQyxJQUFBTCxVQW9DQSxJQUFBTSxXQUFBbEUsU0FBQUMsY0FBQSxlQUNBa0UsYUFBQW5FLFNBQUFvRSxpQkFBQSxhQUNBQyxVQUFBckUsU0FBQUMsY0FBQSxRQUFBcUUsYUFDQUMsY0FBQSxJQUFBRixVQUFBL0csT0FBQWtILFlBQ0FDLGNBQUEsZUFDQUMsU0FBQSxRQUNBQyxRQUFBQyxLQUFBQyxNQUNBQyxpQkFDQUMsS0FBQUosUUFBQUQsU0FDQU0sT0FBQSxHQUdBLFNBQUFDLHNCQUNBLElBQUFDLEVBQUFDLEtBQUFDLE1BQUFDLGFBQUFDLFFBQUFiLGdCQUNBLElBQUFTLEdBQUFBLEVBQUFILEtBQUFKLFFBQ0EsT0FBQVQsWUFBQUEsV0FBQTFELFVBQUFDLElBQUEsb0JBd0JBLEdBcEJBMEQsaUJBQUFvQixRQUFBQyxLQUFBckIsYUFBQSxTQUFBc0IsR0FDQUEsRUFBQS9FLGlCQUFBLFFBQUEsV0FDQXdELFdBQUExRCxVQUFBa0YsT0FBQSxvQkFDQUwsYUFBQU0sUUFBQWxCLGNBQUFVLEtBQUFTLFVBQUFkLHNCQUlBeEgsT0FBQW9ELGlCQUFBLFNBQUEsV0FDQXBELE9BQUF1SSxRQUNBdEIsZUFBQVUsd0JBR0F6SCxFQUFBd0MsVUFBQThGLEdBQUEsUUFBQSxlQUFBLFNBQUF4RCxHQUNBQSxFQUFBQyxpQkFFQS9FLEVBQUEsY0FBQXVJLFNBQ0FDLFVBQUF4SSxFQUFBQSxFQUFBeUksS0FBQS9HLEtBQUEsU0FBQWdILFNBQUFDLEtBQ0EsT0FHQTNJLEVBQUEsaUJBQUFvQyxPQUFBLENBQ0EsSUFBQXdHLGFBQUEsSUFBQXhCLE1BQUF5QixjQUNBN0ksRUFBQSxpQkFBQThJLEtBQUFGIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBoYW5kbGVGb3JtU3VibWl0ID0gd2luZG93LmhhbmRsZUZvcm1TdWJtaXQ7IC8vIFdlIGdvdCBpdCBmcm9tIHRyYWNjb29uIHByb2plY3QuXG52YXIgbm90aWZ5RGVsYXkgPSAxMDAwMDtcblxuLy8gQ2xpZW50cyBzZWN0aW9uXG4kKCcuY2xpZW50c19fY29udGFpbmVyJykub3dsQ2Fyb3VzZWwoe1xuICAgIHN0YWdlUGFkZGluZzogNTAsXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBhdXRvV2lkdGg6IHRydWUsXG4gICAgZG90czogZmFsc2UsXG4gICAgYXV0b3BsYXk6IHRydWUsXG4gICAgYXV0b3BsYXlUaW1lb3V0OiAzMDAwLFxuICAgIGF1dG9wbGF5SG92ZXJQYXVzZTogdHJ1ZSxcbiAgICBtYXJnaW46IDEwLFxuICAgIHJlc3BvbnNpdmU6IHtcbiAgICAgICAgMDoge1xuICAgICAgICAgICAgaXRlbXM6IDFcbiAgICAgICAgfSxcbiAgICAgICAgNzY4OiB7XG4gICAgICAgICAgICBpdGVtczogMixcbiAgICAgICAgICAgIGF1dG9XaWR0aDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgMTAyMDoge1xuICAgICAgICAgICAgaXRlbXM6IDNcbiAgICAgICAgfSxcbiAgICAgICAgMTI4MDoge1xuICAgICAgICAgICAgaXRlbXM6IDQsXG4gICAgICAgICAgICBhdXRvV2lkdGg6IGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLy8gQXdhcmRzIHNlY3Rpb25cbiQoJy5hYm91dF9fYXdhcmRzJykub3dsQ2Fyb3VzZWwoe1xuICAgIGxvb3A6IHRydWUsXG4gICAgZG90czogZmFsc2UsXG4gICAgYXV0b3BsYXk6IHRydWUsXG4gICAgYXV0b3BsYXlUaW1lb3V0OiAzMDAwLFxuICAgIGF1dG9wbGF5SG92ZXJQYXVzZTogdHJ1ZSxcbiAgICBuYXY6IHRydWUsXG4gICAgbmF2VGV4dDogW1wiXCIsIFwiXCJdLFxuICAgIHJlc3BvbnNpdmU6IHtcbiAgICAgICAgMDoge1xuICAgICAgICAgICAgaXRlbXM6IDFcbiAgICAgICAgfSxcbiAgICAgICAgNzY4OiB7XG4gICAgICAgICAgICBpdGVtczogM1xuICAgICAgICB9LFxuICAgICAgICAxMjUwOiB7XG4gICAgICAgICAgICBpdGVtczogNFxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbkFPUy5pbml0KCk7XG5cbiQudmFsaWRhdG9yLm1ldGhvZHMubnVtYmVyID0gZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uYWwoZWxlbWVudCkgfHwgL15bMC05K1xcLSgpIOKAlF0rJC8udGVzdCh2YWx1ZSk7XG59O1xuXG52YXIgaGlkZSA9IGZ1bmN0aW9uIGhpZGUoZWxlbSkge1xuICAgIHJldHVybiBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG4kKCdmb3JtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS52YWxpZGF0ZSh7XG4gICAgICAgIHNob3dFcnJvcnM6IGZ1bmN0aW9uIHNob3dFcnJvcnMoZXJyb3JNYXAsIGVycm9yTGlzdCkge1xuICAgICAgICAgICAgaWYgKGVycm9yTWFwWydhdHRhY2gnXSkgTm90aWZ5KHVwbG9hZEVycm9yTWVzc2FnZSwgbm90aWZ5RGVsYXkpO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0U2hvd0Vycm9ycygpO1xuICAgICAgICB9LFxuICAgICAgICBydWxlczoge1xuICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGFzdF9uYW1lOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGFueToge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW1haWw6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBob25lOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbnVtYmVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1heGxlbmd0aDogMjU1LFxuICAgICAgICAgICAgICAgIG1pbmxlbmd0aDogNVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1heGxlbmd0aDogNjU1MzVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZXM6IHtcbiAgICAgICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgICAgICAgZW1haWw6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24gc3VibWl0SGFuZGxlcihmb3JtLCBldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciByb3dEYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgICAgICAgICAgdmFyIHVybCA9IGZvcm0uZ2V0QXR0cmlidXRlKCdkYXRhLXVybCcpO1xuICAgICAgICAgICAgdmFyIGNvbnRhY3RFcnJvck1lc3NhZ2UgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5yZWdpc3RyYXRpb25fX2Vycm9yJyk7XG4gICAgICAgICAgICB2YXIgdGh4TWVzc2FnZSA9IGZvcm0ubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgcm93RGF0YS5hcHBlbmQoJ2hhbmRsZXJfaWQnLCBmb3JtLmRhdGFzZXQuaGFuZGxlcik7XG5cbiAgICAgICAgICAgIGhhbmRsZUZvcm1TdWJtaXQodXJsLCByb3dEYXRhLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZm9ybS5kYXRhc2V0LnR5cGVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLm5vdGlmaWNhdGlvbicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgJChcImZvcm1cIikudHJpZ2dlcihcInJlc2V0XCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3RFcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSAnQ2hlY2sgc2VsZWN0ZWQgZmllbGRzLCBwbGVhc2UuJztcbiAgICAgICAgICAgICAgICAgICAgc2hvdyhjb250YWN0RXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVzLmRhdGEpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocmVzLmRhdGEpLm1hcChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dE5hbWUgPSBlcnJvci5zcGxpdCgnLScpWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9JyArIGlucHV0TmFtZSArICddJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dC5jbGFzc0xpc3QuYWRkKCdoYXMtZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBOb3RpZnkoKSB7XG4gICAgdmFyIG1lc3NhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdEZWZhdWx0IG1lc3NhZ2UnO1xuICAgIHZhciBkZWxheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMzAwMDtcblxuICAgIHZhciBleGlzdGluZ05vdGlmeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3RpZnknKTtcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG1lc3NhZ2UpO1xuICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcblxuICAgIGlmIChleGlzdGluZ05vdGlmeSkgYm9keS5yZW1vdmVDaGlsZChleGlzdGluZ05vdGlmeSk7XG5cbiAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ25vdGlmeScpO1xuICAgIHdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZS50YXJnZXQuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgfSk7XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd3JhcHBlci5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgd3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSc7XG4gICAgfSwgMzAwKTtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB3cmFwcGVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICB3cmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDIwMCUpJztcbiAgICB9LCBkZWxheSk7XG5cbiAgICByZXR1cm4gYm9keS5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcbn1cblxudmFyIG5ld3NsZXR0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3c2xldHRlcicpO1xudmFyIG5ld3NsZXR0ZXJPayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cC1vaycpO1xudmFyIGRvY0hlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5vZmZzZXRIZWlnaHQ7XG52YXIgdHJpZ2dlckhlaWdodCA9IGRvY0hlaWdodCAqIDAuNzUgLSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG52YXIgbmV3c0xldHRlcktleSA9ICdpc05ld3NsZXR0ZXInO1xudmFyIHR3b1dlZWtzID0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDAgKiAyO1xudmFyIGRhdGVOb3cgPSBEYXRlLm5vdygpO1xudmFyIG5ld3NMZXR0ZXJTaG93biA9IHtcbiAgICBkYXRlOiBkYXRlTm93ICsgdHdvV2Vla3MsXG4gICAgc2hvd246IHRydWVcbn07XG5cbmZ1bmN0aW9uIHNob3dOZXdzbGV0dGVyUG9wdXAoKSB7XG4gICAgdmFyIGlzTmV3c0xldHRlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0obmV3c0xldHRlcktleSkpO1xuICAgIGlmICghaXNOZXdzTGV0dGVyIHx8IGlzTmV3c0xldHRlci5kYXRlIDwgZGF0ZU5vdykge1xuICAgICAgICByZXR1cm4gbmV3c2xldHRlciAmJiBuZXdzbGV0dGVyLmNsYXNzTGlzdC5hZGQoJ25ld3NsZXR0ZXItLXNob3cnKTtcbiAgICB9XG59XG5cbm5ld3NsZXR0ZXJPayAmJiBbXS5mb3JFYWNoLmNhbGwobmV3c2xldHRlck9rLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG5ld3NsZXR0ZXIuY2xhc3NMaXN0LnJlbW92ZSgnbmV3c2xldHRlci0tc2hvdycpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShuZXdzTGV0dGVyS2V5LCBKU09OLnN0cmluZ2lmeShuZXdzTGV0dGVyU2hvd24pKTtcbiAgICB9KTtcbn0pO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JvbGxIZWlnaHQgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICBzY3JvbGxIZWlnaHQgPiB0cmlnZ2VySGVpZ2h0ID8gc2hvd05ld3NsZXR0ZXJQb3B1cCgpIDogJyc7XG59KTtcblxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ2FbaHJlZl49XCIjXCJdJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgc2Nyb2xsVG9wOiAkKCQuYXR0cih0aGlzLCAnaHJlZicpKS5vZmZzZXQoKS50b3BcbiAgICB9LCA1MDApO1xufSk7XG5cbmlmICgkKCcuZm9vdGVyX195ZWFyJykubGVuZ3RoKSB7XG4gICAgdmFyIGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuICAgICQoJy5mb290ZXJfX3llYXInKS50ZXh0KGN1cnJlbnRZZWFyKTtcbn0iXX0=
