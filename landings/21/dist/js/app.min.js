"use strict";var handleFormSubmit=window.handleFormSubmit,notifyDelay=1e4;$(".clients__container").owlCarousel({stagePadding:40,loop:!0,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,margin:20,responsive:{0:{items:1},550:{items:2},900:{items:3},1250:{items:4}}}),$(".about__awards").owlCarousel({loop:!0,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,nav:!0,navText:["",""],responsive:{0:{items:1},768:{items:3},1250:{items:4}}}),AOS.init(),$.validator.methods.number=function(e,t){return this.optional(t)||/^[0-9+\-() â€”]+$/.test(e)};var hide=function(e){return e.style.display="none"};function Notify(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Default message",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,r=document.querySelector(".notify"),n=document.createElement("div"),o=document.createTextNode(e),a=document.body;return r&&a.removeChild(r),n.classList.add("notify"),n.addEventListener("click",function(e){return e.target.style.opacity=0}),n.appendChild(o),setTimeout(function(){n.style.opacity=1,n.style.transform="translateY(0)"},300),setTimeout(function(){n.style.opacity=0,n.style.transform="translateY(200%)"},t),a.appendChild(n)}$("form").each(function(){$(this).validate({showErrors:function(e,t){e.attach&&Notify(uploadErrorMessage,notifyDelay),this.defaultShowErrors()},rules:{name:{required:!0,maxlength:255},last_name:{required:!0,maxlength:255},position:{required:!0,maxlength:255},company:{required:!0,maxlength:255},email:{required:!0,email:!0,maxlength:255},phone:{required:!0,number:!0,maxlength:255,minlength:5},description:{required:!1,maxlength:65535}},messages:{email:{email:"Please enter a valid email address."}},submitHandler:function(e,t){t.preventDefault();var r=new FormData(e),n=e.getAttribute("data-url"),o=e.querySelector(".registration__error");e.nextElementSibling;r.append("handler_id",e.dataset.handler),handleFormSubmit(n,r,{type:e.dataset.type}).then(function(e){e.data.status?($(".notification").show(),$("form").trigger("reset")):(o.textContent="Check selected fields, please.",show(o)),Object.keys(e.data).length>1&&Object.keys(e.data).map(function(e){var t=e.split("-")[1];return document.querySelector("[name="+t+"]").classList.add("has-error")})}).catch(function(e){console.log(e)})}})});var newsletter=document.querySelector(".newsletter"),newsletterOk=document.querySelectorAll(".popup-ok"),docHeight=document.querySelector("body").offsetHeight,triggerHeight=.75*docHeight-window.innerHeight,newsLetterKey="isNewsletter",twoWeeks=12096e5,dateNow=Date.now(),newsLetterShown={date:dateNow+twoWeeks,shown:!0};function showNewsletterPopup(){var e=JSON.parse(localStorage.getItem(newsLetterKey));if(!e||e.date<dateNow)return newsletter&&newsletter.classList.add("newsletter--show")}if(newsletterOk&&[].forEach.call(newsletterOk,function(e){e.addEventListener("click",function(){newsletter.classList.remove("newsletter--show"),localStorage.setItem(newsLetterKey,JSON.stringify(newsLetterShown))})}),window.addEventListener("scroll",function(){window.scrollY>triggerHeight&&showNewsletterPopup()}),$(document).on("click",'a[href^="#"]',function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top},500)}),$(".footer__year").length){var currentYear=(new Date).getFullYear();$(".footer__year").text(currentYear)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaGFuZGxlRm9ybVN1Ym1pdCIsIndpbmRvdyIsIm5vdGlmeURlbGF5IiwiJCIsIm93bENhcm91c2VsIiwic3RhZ2VQYWRkaW5nIiwibG9vcCIsImRvdHMiLCJhdXRvcGxheSIsImF1dG9wbGF5VGltZW91dCIsImF1dG9wbGF5SG92ZXJQYXVzZSIsIm1hcmdpbiIsInJlc3BvbnNpdmUiLCIwIiwiaXRlbXMiLCI1NTAiLCI5MDAiLCIxMjUwIiwibmF2IiwibmF2VGV4dCIsIjc2OCIsIkFPUyIsImluaXQiLCJ2YWxpZGF0b3IiLCJtZXRob2RzIiwibnVtYmVyIiwidmFsdWUiLCJlbGVtZW50IiwidGhpcyIsIm9wdGlvbmFsIiwidGVzdCIsImhpZGUiLCJlbGVtIiwic3R5bGUiLCJkaXNwbGF5IiwiTm90aWZ5IiwibWVzc2FnZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImRlbGF5IiwiZXhpc3RpbmdOb3RpZnkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3cmFwcGVyIiwiY3JlYXRlRWxlbWVudCIsInRleHROb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJib2R5IiwicmVtb3ZlQ2hpbGQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsIm9wYWNpdHkiLCJhcHBlbmRDaGlsZCIsInNldFRpbWVvdXQiLCJ0cmFuc2Zvcm0iLCJlYWNoIiwidmFsaWRhdGUiLCJzaG93RXJyb3JzIiwiZXJyb3JNYXAiLCJlcnJvckxpc3QiLCJ1cGxvYWRFcnJvck1lc3NhZ2UiLCJkZWZhdWx0U2hvd0Vycm9ycyIsInJ1bGVzIiwibmFtZSIsInJlcXVpcmVkIiwibWF4bGVuZ3RoIiwibGFzdF9uYW1lIiwicG9zaXRpb24iLCJjb21wYW55IiwiZW1haWwiLCJwaG9uZSIsIm1pbmxlbmd0aCIsImRlc2NyaXB0aW9uIiwibWVzc2FnZXMiLCJzdWJtaXRIYW5kbGVyIiwiZm9ybSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJyb3dEYXRhIiwiRm9ybURhdGEiLCJ1cmwiLCJnZXRBdHRyaWJ1dGUiLCJjb250YWN0RXJyb3JNZXNzYWdlIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiYXBwZW5kIiwiZGF0YXNldCIsImhhbmRsZXIiLCJ0eXBlIiwidGhlbiIsInJlcyIsImRhdGEiLCJzdGF0dXMiLCJzaG93IiwidHJpZ2dlciIsInRleHRDb250ZW50IiwiT2JqZWN0Iiwia2V5cyIsIm1hcCIsImVycm9yIiwiaW5wdXROYW1lIiwic3BsaXQiLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJuZXdzbGV0dGVyIiwibmV3c2xldHRlck9rIiwicXVlcnlTZWxlY3RvckFsbCIsImRvY0hlaWdodCIsIm9mZnNldEhlaWdodCIsInRyaWdnZXJIZWlnaHQiLCJpbm5lckhlaWdodCIsIm5ld3NMZXR0ZXJLZXkiLCJ0d29XZWVrcyIsImRhdGVOb3ciLCJEYXRlIiwibm93IiwibmV3c0xldHRlclNob3duIiwiZGF0ZSIsInNob3duIiwic2hvd05ld3NsZXR0ZXJQb3B1cCIsImlzTmV3c0xldHRlciIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJmb3JFYWNoIiwiY2FsbCIsIml0ZW0iLCJyZW1vdmUiLCJzZXRJdGVtIiwic3RyaW5naWZ5Iiwic2Nyb2xsWSIsIm9uIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImF0dHIiLCJvZmZzZXQiLCJ0b3AiLCJjdXJyZW50WWVhciIsImdldEZ1bGxZZWFyIiwidGV4dCJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQSxJQUFBQSxpQkFBQUMsT0FBQUQsaUJBQ0FFLFlBQUEsSUFHQUMsRUFBQSx1QkFBQUMsYUFDQUMsYUFBQSxHQUNBQyxNQUFBLEVBRUFDLE1BQUEsRUFDQUMsVUFBQSxFQUNBQyxnQkFBQSxJQUNBQyxvQkFBQSxFQUNBQyxPQUFBLEdBQ0FDLFlBQ0FDLEdBQ0FDLE1BQUEsR0FFQUMsS0FDQUQsTUFBQSxHQUVBRSxLQUNBRixNQUFBLEdB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UUFBQXFFLGFBQ0FDLGNBQUEsSUFBQUYsVUFBQTlHLE9BQUFpSCxZQUNBQyxjQUFBLGVBQ0FDLFNBQUEsUUFDQUMsUUFBQUMsS0FBQUMsTUFDQUMsaUJBQ0FDLEtBQUFKLFFBQUFELFNBQ0FNLE9BQUEsR0FHQSxTQUFBQyxzQkFDQSxJQUFBQyxFQUFBQyxLQUFBQyxNQUFBQyxhQUFBQyxRQUFBYixnQkFDQSxJQUFBUyxHQUFBQSxFQUFBSCxLQUFBSixRQUNBLE9BQUFULFlBQUFBLFdBQUExRCxVQUFBQyxJQUFBLG9CQXdCQSxHQXBCQTBELGlCQUFBb0IsUUFBQUMsS0FBQXJCLGFBQUEsU0FBQXNCLEdBQ0FBLEVBQUEvRSxpQkFBQSxRQUFBLFdBQ0F3RCxXQUFBMUQsVUFBQWtGLE9BQUEsb0JBQ0FMLGFBQUFNLFFBQUFsQixjQUFBVSxLQUFBUyxVQUFBZCxzQkFJQXZILE9BQUFtRCxpQkFBQSxTQUFBLFdBQ0FuRCxPQUFBc0ksUUFDQXRCLGVBQUFVLHdCQUdBeEgsRUFBQXVDLFVBQUE4RixHQUFBLFFBQUEsZUFBQSxTQUFBeEQsR0FDQUEsRUFBQUMsaUJBRUE5RSxFQUFBLGNBQUFzSSxTQUNBQyxVQUFBdkksRUFBQUEsRUFBQXdJLEtBQUEvRyxLQUFBLFNBQUFnSCxTQUFBQyxLQUNBLE9BR0ExSSxFQUFBLGlCQUFBbUMsT0FBQSxDQUNBLElBQUF3RyxhQUFBLElBQUF4QixNQUFBeUIsY0FDQTVJLEVBQUEsaUJBQUE2SSxLQUFBRiIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFuZGxlRm9ybVN1Ym1pdCA9IHdpbmRvdy5oYW5kbGVGb3JtU3VibWl0OyAvLyBXZSBnb3QgaXQgZnJvbSB0cmFjY29vbiBwcm9qZWN0LlxudmFyIG5vdGlmeURlbGF5ID0gMTAwMDA7XG5cbi8vIENsaWVudHMgc2VjdGlvblxuJCgnLmNsaWVudHNfX2NvbnRhaW5lcicpLm93bENhcm91c2VsKHtcbiAgICBzdGFnZVBhZGRpbmc6IDQwLFxuICAgIGxvb3A6IHRydWUsXG4gICAgLy8gYXV0b1dpZHRoOiB0cnVlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgIGF1dG9wbGF5VGltZW91dDogMzAwMCxcbiAgICBhdXRvcGxheUhvdmVyUGF1c2U6IHRydWUsXG4gICAgbWFyZ2luOiAyMCxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICAgIDA6IHtcbiAgICAgICAgICAgIGl0ZW1zOiAxXG4gICAgICAgIH0sXG4gICAgICAgIDU1MDoge1xuICAgICAgICAgICAgaXRlbXM6IDJcbiAgICAgICAgfSxcbiAgICAgICAgOTAwOiB7XG4gICAgICAgICAgICBpdGVtczogM1xuICAgICAgICB9LFxuICAgICAgICAxMjUwOiB7XG4gICAgICAgICAgICBpdGVtczogNFxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8vIEF3YXJkcyBzZWN0aW9uXG4kKCcuYWJvdXRfX2F3YXJkcycpLm93bENhcm91c2VsKHtcbiAgICBsb29wOiB0cnVlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgIGF1dG9wbGF5VGltZW91dDogMzAwMCxcbiAgICBhdXRvcGxheUhvdmVyUGF1c2U6IHRydWUsXG4gICAgbmF2OiB0cnVlLFxuICAgIG5hdlRleHQ6IFtcIlwiLCBcIlwiXSxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICAgIDA6IHtcbiAgICAgICAgICAgIGl0ZW1zOiAxXG4gICAgICAgIH0sXG4gICAgICAgIDc2ODoge1xuICAgICAgICAgICAgaXRlbXM6IDNcbiAgICAgICAgfSxcbiAgICAgICAgMTI1MDoge1xuICAgICAgICAgICAgaXRlbXM6IDRcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5BT1MuaW5pdCgpO1xuXG4kLnZhbGlkYXRvci5tZXRob2RzLm51bWJlciA9IGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IC9eWzAtOStcXC0oKSDigJRdKyQvLnRlc3QodmFsdWUpO1xufTtcblxudmFyIGhpZGUgPSBmdW5jdGlvbiBoaWRlKGVsZW0pIHtcbiAgICByZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufTtcblxuJCgnZm9ybScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykudmFsaWRhdGUoe1xuICAgICAgICBzaG93RXJyb3JzOiBmdW5jdGlvbiBzaG93RXJyb3JzKGVycm9yTWFwLCBlcnJvckxpc3QpIHtcbiAgICAgICAgICAgIGlmIChlcnJvck1hcFsnYXR0YWNoJ10pIE5vdGlmeSh1cGxvYWRFcnJvck1lc3NhZ2UsIG5vdGlmeURlbGF5KTtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFNob3dFcnJvcnMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcnVsZXM6IHtcbiAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxhc3RfbmFtZToge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBhbnk6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwaG9uZToge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG51bWJlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDI1NSxcbiAgICAgICAgICAgICAgICBtaW5sZW5ndGg6IDVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDY1NTM1XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgICAgIGVtYWlsOiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy4nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN1Ym1pdEhhbmRsZXI6IGZ1bmN0aW9uIHN1Ym1pdEhhbmRsZXIoZm9ybSwgZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgcm93RGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgICAgICAgIHZhciB1cmwgPSBmb3JtLmdldEF0dHJpYnV0ZSgnZGF0YS11cmwnKTtcbiAgICAgICAgICAgIHZhciBjb250YWN0RXJyb3JNZXNzYWdlID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcucmVnaXN0cmF0aW9uX19lcnJvcicpO1xuICAgICAgICAgICAgdmFyIHRoeE1lc3NhZ2UgPSBmb3JtLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgIHJvd0RhdGEuYXBwZW5kKCdoYW5kbGVyX2lkJywgZm9ybS5kYXRhc2V0LmhhbmRsZXIpO1xuXG4gICAgICAgICAgICBoYW5kbGVGb3JtU3VibWl0KHVybCwgcm93RGF0YSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IGZvcm0uZGF0YXNldC50eXBlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5ub3RpZmljYXRpb24nKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICQoXCJmb3JtXCIpLnRyaWdnZXIoXCJyZXNldFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250YWN0RXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gJ0NoZWNrIHNlbGVjdGVkIGZpZWxkcywgcGxlYXNlLic7XG4gICAgICAgICAgICAgICAgICAgIHNob3coY29udGFjdEVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlcy5kYXRhKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHJlcy5kYXRhKS5tYXAoZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXROYW1lID0gZXJyb3Iuc3BsaXQoJy0nKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPScgKyBpbnB1dE5hbWUgKyAnXScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQuY2xhc3NMaXN0LmFkZCgnaGFzLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxuZnVuY3Rpb24gTm90aWZ5KCkge1xuICAgIHZhciBtZXNzYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnRGVmYXVsdCBtZXNzYWdlJztcbiAgICB2YXIgZGVsYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDMwMDA7XG5cbiAgICB2YXIgZXhpc3RpbmdOb3RpZnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90aWZ5Jyk7XG4gICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtZXNzYWdlKTtcbiAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG5cbiAgICBpZiAoZXhpc3RpbmdOb3RpZnkpIGJvZHkucmVtb3ZlQ2hpbGQoZXhpc3RpbmdOb3RpZnkpO1xuXG4gICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCdub3RpZnknKTtcbiAgICB3cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGUudGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIH0pO1xuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdyYXBwZXIuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIHdyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMCknO1xuICAgIH0sIDMwMCk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd3JhcHBlci5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgd3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgyMDAlKSc7XG4gICAgfSwgZGVsYXkpO1xuXG4gICAgcmV0dXJuIGJvZHkuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG59XG5cbnZhciBuZXdzbGV0dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ld3NsZXR0ZXInKTtcbnZhciBuZXdzbGV0dGVyT2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAtb2snKTtcbnZhciBkb2NIZWlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykub2Zmc2V0SGVpZ2h0O1xudmFyIHRyaWdnZXJIZWlnaHQgPSBkb2NIZWlnaHQgKiAwLjc1IC0gd2luZG93LmlubmVySGVpZ2h0O1xudmFyIG5ld3NMZXR0ZXJLZXkgPSAnaXNOZXdzbGV0dGVyJztcbnZhciB0d29XZWVrcyA9IDcgKiAyNCAqIDYwICogNjAgKiAxMDAwICogMjtcbnZhciBkYXRlTm93ID0gRGF0ZS5ub3coKTtcbnZhciBuZXdzTGV0dGVyU2hvd24gPSB7XG4gICAgZGF0ZTogZGF0ZU5vdyArIHR3b1dlZWtzLFxuICAgIHNob3duOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBzaG93TmV3c2xldHRlclBvcHVwKCkge1xuICAgIHZhciBpc05ld3NMZXR0ZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKG5ld3NMZXR0ZXJLZXkpKTtcbiAgICBpZiAoIWlzTmV3c0xldHRlciB8fCBpc05ld3NMZXR0ZXIuZGF0ZSA8IGRhdGVOb3cpIHtcbiAgICAgICAgcmV0dXJuIG5ld3NsZXR0ZXIgJiYgbmV3c2xldHRlci5jbGFzc0xpc3QuYWRkKCduZXdzbGV0dGVyLS1zaG93Jyk7XG4gICAgfVxufVxuXG5uZXdzbGV0dGVyT2sgJiYgW10uZm9yRWFjaC5jYWxsKG5ld3NsZXR0ZXJPaywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBuZXdzbGV0dGVyLmNsYXNzTGlzdC5yZW1vdmUoJ25ld3NsZXR0ZXItLXNob3cnKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obmV3c0xldHRlcktleSwgSlNPTi5zdHJpbmdpZnkobmV3c0xldHRlclNob3duKSk7XG4gICAgfSk7XG59KTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gd2luZG93LnNjcm9sbFk7XG4gICAgc2Nyb2xsSGVpZ2h0ID4gdHJpZ2dlckhlaWdodCA/IHNob3dOZXdzbGV0dGVyUG9wdXAoKSA6ICcnO1xufSk7XG5cbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdhW2hyZWZePVwiI1wiXScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgIHNjcm9sbFRvcDogJCgkLmF0dHIodGhpcywgJ2hyZWYnKSkub2Zmc2V0KCkudG9wXG4gICAgfSwgNTAwKTtcbn0pO1xuXG5pZiAoJCgnLmZvb3Rlcl9feWVhcicpLmxlbmd0aCkge1xuICAgIHZhciBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiAgICAkKCcuZm9vdGVyX195ZWFyJykudGV4dChjdXJyZW50WWVhcik7XG59Il19
