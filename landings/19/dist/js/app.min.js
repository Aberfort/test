"use strict";var handleFormSubmit=window.handleFormSubmit,notifyDelay=1e4,owl=$(".owl-carousel");owl.owlCarousel({stagePadding:40,loop:!0,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,margin:20,responsive:{0:{items:1},550:{items:2},900:{items:3},1250:{items:4}}}),$(".owl-item").click(function(){owl.trigger("next.owl.carousel")}),AOS.init(),$.validator.methods.number=function(e,t){return this.optional(t)||/^[0-9+\-() â€”]+$/.test(e)};var hide=function(e){return e.style.display="none"};function Notify(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Default message",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=document.querySelector(".notify"),r=document.createElement("div"),o=document.createTextNode(e),a=document.body;return n&&a.removeChild(n),r.classList.add("notify"),r.addEventListener("click",function(e){return e.target.style.opacity=0}),r.appendChild(o),setTimeout(function(){r.style.opacity=1,r.style.transform="translateY(0)"},300),setTimeout(function(){r.style.opacity=0,r.style.transform="translateY(200%)"},t),a.appendChild(r)}$("form").each(function(){$(this).validate({showErrors:function(e,t){e.attach&&Notify(uploadErrorMessage,notifyDelay),this.defaultShowErrors()},rules:{name:{required:!0,maxlength:255},last_name:{required:!0,maxlength:255},position:{required:!0,maxlength:255},company:{required:!0,maxlength:255},email:{required:!0,email:!0,maxlength:255},phone:{required:!0,number:!0,maxlength:255,minlength:5},description:{required:!1,maxlength:65535}},messages:{email:{email:"Please enter a valid email address."}},submitHandler:function(e,t){t.preventDefault();var n=new FormData(e),r=e.getAttribute("data-url"),o=e.querySelector(".registration__error");e.nextElementSibling;n.append("handler_id",e.dataset.handler),handleFormSubmit(r,n,{type:e.dataset.type}).then(function(e){e.data.status?($(".notification").show(),$("form").trigger("reset")):(o.textContent="Check selected fields, please.",show(o)),Object.keys(e.data).length>1&&Object.keys(e.data).map(function(e){var t=e.split("-")[1];return document.querySelector("[name="+t+"]").classList.add("has-error")})}).catch(function(e){console.log(e)})}})});var newsletter=document.querySelector(".newsletter"),newsletterOk=document.querySelectorAll(".popup-ok"),docHeight=document.querySelector("body").offsetHeight,triggerHeight=.75*docHeight-window.innerHeight,newsLetterKey="isNewsletter",twoWeeks=12096e5,dateNow=Date.now(),newsLetterShown={date:dateNow+twoWeeks,shown:!0};function showNewsletterPopup(){var e=JSON.parse(localStorage.getItem(newsLetterKey));if(!e||e.date<dateNow)return newsletter&&newsletter.classList.add("newsletter--show")}newsletterOk&&[].forEach.call(newsletterOk,function(e){e.addEventListener("click",function(){newsletter.classList.remove("newsletter--show"),localStorage.setItem(newsLetterKey,JSON.stringify(newsLetterShown))})}),window.addEventListener("scroll",function(){window.scrollY>triggerHeight&&showNewsletterPopup()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaGFuZGxlRm9ybVN1Ym1pdCIsIndpbmRvdyIsIm5vdGlmeURlbGF5Iiwib3dsIiwiJCIsIm93bENhcm91c2VsIiwic3RhZ2VQYWRkaW5nIiwibG9vcCIsImRvdHMiLCJhdXRvcGxheSIsImF1dG9wbGF5VGltZW91dCIsImF1dG9wbGF5SG92ZXJQYXVzZSIsIm1hcmdpbiIsInJlc3BvbnNpdmUiLCIwIiwiaXRlbXMiLCI1NTAiLCI5MDAiLCIxMjUwIiwiY2xpY2siLCJ0cmlnZ2VyIiwiQU9TIiwiaW5pdCIsInZhbGlkYXRvciIsIm1ldGhvZHMiLCJudW1iZXIiLCJ2YWx1ZSIsImVsZW1lbnQiLCJ0aGlzIiwib3B0aW9uYWwiLCJ0ZXN0IiwiaGlkZSIsImVsZW0iLCJzdHlsZSIsImRpc3BsYXkiLCJOb3RpZnkiLCJtZXNzYWdlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZGVsYXkiLCJleGlzdGluZ05vdGlmeSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndyYXBwZXIiLCJjcmVhdGVFbGVtZW50IiwidGV4dE5vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImJvZHkiLCJyZW1vdmVDaGlsZCIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0Iiwib3BhY2l0eSIsImFwcGVuZENoaWxkIiwic2V0VGltZW91dCIsInRyYW5zZm9ybSIsImVhY2giLCJ2YWxpZGF0ZSIsInNob3dFcnJvcnMiLCJlcnJvck1hcCIsImVycm9yTGlzdCIsInVwbG9hZEVycm9yTWVzc2FnZSIsImRlZmF1bHRTaG93RXJyb3JzIiwicnVsZXMiLCJuYW1lIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJsYXN0X25hbWUiLCJwb3NpdGlvbiIsImNvbXBhbnkiLCJlbWFpbCIsInBob25lIiwibWlubGVuZ3RoIiwiZGVzY3JpcHRpb24iLCJtZXNzYWdlcyIsInN1Ym1pdEhhbmRsZXIiLCJmb3JtIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInJvd0RhdGEiLCJGb3JtRGF0YSIsInVybCIsImdldEF0dHJpYnV0ZSIsImNvbnRhY3RFcnJvck1lc3NhZ2UiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJhcHBlbmQiLCJkYXRhc2V0IiwiaGFuZGxlciIsInR5cGUiLCJ0aGVuIiwicmVzIiwiZGF0YSIsInN0YXR1cyIsInNob3ciLCJ0ZXh0Q29udGVudCIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJlcnJvciIsImlucHV0TmFtZSIsInNwbGl0IiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwibmV3c2xldHRlciIsIm5ld3NsZXR0ZXJPayIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkb2NIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJ0cmlnZ2VySGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJuZXdzTGV0dGVyS2V5IiwidHdvV2Vla3MiLCJkYXRlTm93IiwiRGF0ZSIsIm5vdyIsIm5ld3NMZXR0ZXJTaG93biIsImRhdGUiLCJzaG93biIsInNob3dOZXdzbGV0dGVyUG9wdXAiLCJpc05ld3NMZXR0ZXIiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZm9yRWFjaCIsImNhbGwiLCJpdGVtIiwicmVtb3ZlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInNjcm9sbFkiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsSUFBQUEsaUJBQUFDLE9BQUFELGlCQUNBRSxZQUFBLElBRUFDLElBQUFDLEVBQUEsaUJBQ0FELElBQUFFLGFBQ0FDLGFBQUEsR0FDQUMsTUFBQSxFQUNBQyxNQUFBLEVBQ0FDLFVBQUEsRUFDQUMsZ0JBQUEsSUFDQUMsb0JBQUEsRUFDQUMsT0FBQSxHQUNBQyxZQUNBQyxHQUNBQyxNQUFBLEdBRUFDLEtBQ0FELE1BQUEsR0FFQUUsS0FDQUYsTUFBQSxHQUVBRyxNQUNBSCxNQUFBLE1BS0FYLEVBQUEsYUFBQWUsTUFBQSxXQUNBaEIsSUFBQWlCLFFBQUEsdUJBR0FDLElBQUFDLE9BRUFsQixFQUFB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LFFBQ0EsT0FBQVQsWUFBQUEsV0FBQXpELFVBQUFDLElBQUEsb0JBSUF5RCxpQkFBQW9CLFFBQUFDLEtBQUFyQixhQUFBLFNBQUFzQixHQUNBQSxFQUFBOUUsaUJBQUEsUUFBQSxXQUNBdUQsV0FBQXpELFVBQUFpRixPQUFBLG9CQUNBTCxhQUFBTSxRQUFBbEIsY0FBQVUsS0FBQVMsVUFBQWQsc0JBSUF0SCxPQUFBbUQsaUJBQUEsU0FBQSxXQUNBbkQsT0FBQXFJLFFBQ0F0QixlQUFBVSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFuZGxlRm9ybVN1Ym1pdCA9IHdpbmRvdy5oYW5kbGVGb3JtU3VibWl0OyAvLyBXZSBnb3QgaXQgZnJvbSB0cmFjY29vbiBwcm9qZWN0LlxudmFyIG5vdGlmeURlbGF5ID0gMTAwMDA7XG5cbnZhciBvd2wgPSAkKCcub3dsLWNhcm91c2VsJyk7XG5vd2wub3dsQ2Fyb3VzZWwoe1xuICAgIHN0YWdlUGFkZGluZzogNDAsXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBkb3RzOiBmYWxzZSxcbiAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICBhdXRvcGxheVRpbWVvdXQ6IDMwMDAsXG4gICAgYXV0b3BsYXlIb3ZlclBhdXNlOiB0cnVlLFxuICAgIG1hcmdpbjogMjAsXG4gICAgcmVzcG9uc2l2ZToge1xuICAgICAgICAwOiB7XG4gICAgICAgICAgICBpdGVtczogMVxuICAgICAgICB9LFxuICAgICAgICA1NTA6IHtcbiAgICAgICAgICAgIGl0ZW1zOiAyXG4gICAgICAgIH0sXG4gICAgICAgIDkwMDoge1xuICAgICAgICAgICAgaXRlbXM6IDNcbiAgICAgICAgfSxcbiAgICAgICAgMTI1MDoge1xuICAgICAgICAgICAgaXRlbXM6IDRcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4kKCcub3dsLWl0ZW0nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgb3dsLnRyaWdnZXIoJ25leHQub3dsLmNhcm91c2VsJyk7XG59KTtcblxuQU9TLmluaXQoKTtcblxuJC52YWxpZGF0b3IubWV0aG9kcy5udW1iZXIgPSBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25hbChlbGVtZW50KSB8fCAvXlswLTkrXFwtKCkg4oCUXSskLy50ZXN0KHZhbHVlKTtcbn07XG5cbnZhciBoaWRlID0gZnVuY3Rpb24gaGlkZShlbGVtKSB7XG4gICAgcmV0dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn07XG4vLyBjb25zdCBzaG93ID0gZWxlbSA9PiBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG5cbiQoJ2Zvcm0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnZhbGlkYXRlKHtcbiAgICAgICAgc2hvd0Vycm9yczogZnVuY3Rpb24gc2hvd0Vycm9ycyhlcnJvck1hcCwgZXJyb3JMaXN0KSB7XG4gICAgICAgICAgICBpZiAoZXJyb3JNYXBbJ2F0dGFjaCddKSBOb3RpZnkodXBsb2FkRXJyb3JNZXNzYWdlLCBub3RpZnlEZWxheSk7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRTaG93RXJyb3JzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bGVzOiB7XG4gICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYXN0X25hbWU6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wYW55OiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGhvbmU6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBudW1iZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiAyNTUsXG4gICAgICAgICAgICAgICAgbWlubGVuZ3RoOiA1XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiA2NTUzNVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlczoge1xuICAgICAgICAgICAgZW1haWw6IHtcbiAgICAgICAgICAgICAgICBlbWFpbDogJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbiBzdWJtaXRIYW5kbGVyKGZvcm0sIGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIHJvd0RhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgICAgICAgICB2YXIgdXJsID0gZm9ybS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdXJsJyk7XG4gICAgICAgICAgICB2YXIgY29udGFjdEVycm9yTWVzc2FnZSA9IGZvcm0ucXVlcnlTZWxlY3RvcignLnJlZ2lzdHJhdGlvbl9fZXJyb3InKTtcbiAgICAgICAgICAgIHZhciB0aHhNZXNzYWdlID0gZm9ybS5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICByb3dEYXRhLmFwcGVuZCgnaGFuZGxlcl9pZCcsIGZvcm0uZGF0YXNldC5oYW5kbGVyKTtcblxuICAgICAgICAgICAgaGFuZGxlRm9ybVN1Ym1pdCh1cmwsIHJvd0RhdGEsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBmb3JtLmRhdGFzZXQudHlwZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAvLyBoaWRlKGZvcm0pXG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3codGh4TWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgLy8gJCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLm5vdGlmaWNhdGlvbicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgJChcImZvcm1cIikudHJpZ2dlcihcInJlc2V0XCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3RFcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSAnQ2hlY2sgc2VsZWN0ZWQgZmllbGRzLCBwbGVhc2UuJztcbiAgICAgICAgICAgICAgICAgICAgc2hvdyhjb250YWN0RXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVzLmRhdGEpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocmVzLmRhdGEpLm1hcChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dE5hbWUgPSBlcnJvci5zcGxpdCgnLScpWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9JyArIGlucHV0TmFtZSArICddJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dC5jbGFzc0xpc3QuYWRkKCdoYXMtZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gc2hvdyhjb250YWN0RXJyb3JNZXNzYWdlKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxuZnVuY3Rpb24gTm90aWZ5KCkge1xuICAgIHZhciBtZXNzYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnRGVmYXVsdCBtZXNzYWdlJztcbiAgICB2YXIgZGVsYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDMwMDA7XG5cbiAgICB2YXIgZXhpc3RpbmdOb3RpZnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90aWZ5Jyk7XG4gICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtZXNzYWdlKTtcbiAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG5cbiAgICBpZiAoZXhpc3RpbmdOb3RpZnkpIGJvZHkucmVtb3ZlQ2hpbGQoZXhpc3RpbmdOb3RpZnkpO1xuXG4gICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCdub3RpZnknKTtcbiAgICB3cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGUudGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIH0pO1xuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdyYXBwZXIuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIHdyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMCknO1xuICAgIH0sIDMwMCk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd3JhcHBlci5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgd3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgyMDAlKSc7XG4gICAgfSwgZGVsYXkpO1xuXG4gICAgcmV0dXJuIGJvZHkuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG59XG5cbnZhciBuZXdzbGV0dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ld3NsZXR0ZXInKTtcbnZhciBuZXdzbGV0dGVyT2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAtb2snKTtcbnZhciBkb2NIZWlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykub2Zmc2V0SGVpZ2h0O1xudmFyIHRyaWdnZXJIZWlnaHQgPSBkb2NIZWlnaHQgKiAwLjc1IC0gd2luZG93LmlubmVySGVpZ2h0O1xudmFyIG5ld3NMZXR0ZXJLZXkgPSAnaXNOZXdzbGV0dGVyJztcbnZhciB0d29XZWVrcyA9IDcgKiAyNCAqIDYwICogNjAgKiAxMDAwICogMjtcbnZhciBkYXRlTm93ID0gRGF0ZS5ub3coKTtcbnZhciBuZXdzTGV0dGVyU2hvd24gPSB7XG4gICAgZGF0ZTogZGF0ZU5vdyArIHR3b1dlZWtzLFxuICAgIHNob3duOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBzaG93TmV3c2xldHRlclBvcHVwKCkge1xuICAgIHZhciBpc05ld3NMZXR0ZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKG5ld3NMZXR0ZXJLZXkpKTtcbiAgICBpZiAoIWlzTmV3c0xldHRlciB8fCBpc05ld3NMZXR0ZXIuZGF0ZSA8IGRhdGVOb3cpIHtcbiAgICAgICAgcmV0dXJuIG5ld3NsZXR0ZXIgJiYgbmV3c2xldHRlci5jbGFzc0xpc3QuYWRkKCduZXdzbGV0dGVyLS1zaG93Jyk7XG4gICAgfVxufVxuXG5uZXdzbGV0dGVyT2sgJiYgW10uZm9yRWFjaC5jYWxsKG5ld3NsZXR0ZXJPaywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBuZXdzbGV0dGVyLmNsYXNzTGlzdC5yZW1vdmUoJ25ld3NsZXR0ZXItLXNob3cnKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obmV3c0xldHRlcktleSwgSlNPTi5zdHJpbmdpZnkobmV3c0xldHRlclNob3duKSk7XG4gICAgfSk7XG59KTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gd2luZG93LnNjcm9sbFk7XG4gICAgc2Nyb2xsSGVpZ2h0ID4gdHJpZ2dlckhlaWdodCA/IHNob3dOZXdzbGV0dGVyUG9wdXAoKSA6ICcnO1xufSk7Il19
