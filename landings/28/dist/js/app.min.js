"use strict";function Notify(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Default message",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=document.querySelector(".notify"),o=document.createElement("div"),a=document.createTextNode(e),r=document.body;return n&&r.removeChild(n),o.classList.add("notify"),o.addEventListener("click",function(e){return e.target.style.opacity=0}),o.appendChild(a),setTimeout(function(){o.style.opacity=1,o.style.transform="translateY(0)"},300),setTimeout(function(){o.style.opacity=0,o.style.transform="translateY(200%)"},t),r.appendChild(o)}$(document).ready(function(){var e=function(e){var t,n,o=window.location.search.substring(1).split("&");for(n=0;n<o.length;n++)if((t=o[n].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1])},t=e("kw"),n=e("location");t&&n?$(".kw").append(t+" in "+n):t?$(".kw").append(t):n?$(".kw").append("Mobile App Development Company in "+n):$(".kw").append("Mobile App Development Company"),$("meta[name=description]").remove(),t?(document.title=t+" | Intellectsoft US",$("head").append('<meta name="description" content="Quickly build the team you need with our '+t+" in "+n+'. Employ the best app developers for your mobile app now.">')):(document.title="Mobile App Development Company | Intellectsoft US",$("head").append('<meta name="description" content="Quickly build the team you need with our Mobile App Development Company. Employ the best app developers for your mobile app now.">')),$(".video-play").vide("/static/7/images/video/video",{posterType:"jpg",className:"video-container"})}),$(".clients__container").owlCarousel({loop:!0,dots:!1,nav:!0,navText:["",""],autoplay:!1,autoplayTimeout:3e3,autoplayHoverPause:!0,margin:10,responsive:{0:{items:1},768:{items:2,autoWidth:!0},1020:{items:3,autoWidth:!0},1280:{items:4}}}),$(".about__awards").owlCarousel({loop:!0,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,nav:!0,navText:["",""],responsive:{0:{items:1},768:{items:3},1250:{items:4}}}),AOS.init();var newsletter=document.querySelector(".newsletter"),newsletterOk=document.querySelectorAll(".popup-ok"),docHeight=document.querySelector("body").offsetHeight,triggerHeight=.75*docHeight-window.innerHeight,newsLetterKey="isNewsletter",twoWeeks=12096e5,dateNow=Date.now(),newsLetterShown={date:dateNow+twoWeeks,shown:!0};function showNewsletterPopup(){var e=JSON.parse(localStorage.getItem(newsLetterKey));if(!e||e.date<dateNow)return newsletter&&newsletter.classList.add("newsletter--show")}if(newsletterOk&&[].forEach.call(newsletterOk,function(e){e.addEventListener("click",function(){newsletter.classList.remove("newsletter--show"),localStorage.setItem(newsLetterKey,JSON.stringify(newsLetterShown))})}),window.addEventListener("scroll",function(){window.scrollY>triggerHeight&&showNewsletterPopup()}),$(document).on("click",'a[href^="#"]',function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top},500)}),$(".footer__year").length){var currentYear=(new Date).getFullYear();$(".footer__year").text(currentYear)}$('html[lang="no"]').length&&($(".work__cta").addClass("work__cta--no"),$(".work__cta-title").addClass("work__cta-title--no"),$(".competence__content").addClass("competence__content--no"));var owl=$("#ranking"),form=$("#formRanking");function fillInOwlInit(e,t,n,o,a,r,i,l,s,d,c,u,p,m,h){var f=void 0,w=0,y=1,g=[];function v(){(f=$(t+" .owl-dot")).length&&!c&&b()}function b(){w+=50/(60*i),y-=1/(60*i),$(f[_()]).find("span").css({"border-color":"rgba("+l+", "+y+")"}),window.innerWidth<=599?$(f[k()]).find("span").css({"border-left":"solid "+w/2+"px rgba("+l+", 1)"}):$(f[k()]).find("span").css({"border-left":"solid "+w+"px rgba("+l+", 1)"}),w<50?g.push(requestAnimationFrame(b)):(w=0,y=1,$(f[_()]).find("span").removeAttr("style"),$(f[k()]).find("span").css({"border-left":""}),f.one("click",function(){g.forEach(function(e){cancelAnimationFrame(e)}),g=[]}),f[k()].click())}function k(){var e=0;return $.each(f,function(t,n){$(n).hasClass("active")&&t<f.length-1&&(e=t+1)}),e}function _(){var e=f.length-1;return $.each(f,function(t,n){$(n).hasClass("active")&&t<f.length-1&&(e=t)}),e}e.length>0&&e.owlCarousel({loop:u,lazyLoad:!0,margin:s,nav:c,items:o,dots:p,autoplay:n,autoplayTimeout:7e3,autoplaySpeed:2e3,smartSpeed:600,onInitialized:v,onChange:function(e){"position"===e.property.name&&(w=50);f.find("span").removeAttr("style"),w=0,y=1},onChanged:v,responsive:{0:{items:d?2:1,margin:0,dots:h,nav:!1,loop:!0,autoplay:!1,autoplayTimeout:m},600:{items:d?r:a,margin:d?25:s},1e3:{items:r,margin:d?25:s}}})}fillInOwlInit(owl,".ranking",!0,4,4,7,10,"0, 110, 250",5,!1,!1,!1,!0,2e3,!1,5),fillInOwlInit(form,".ranking-form",!1,4,2,3,6,"255, 255, 255",10,!0,!1,!1,!0,2e3,!0,9),$.validator.methods.number=function(e,t){return this.optional(t)||/^[0-9+\-() â€”]+$/.test(e)};var hide=function(e){return e.style.display="none"};$("form").each(function(){$(this).validate({showErrors:function(e,t){e.attach&&Notify(uploadErrorMessage,notifyDelay),this.defaultShowErrors()},rules:{name:{required:!0,maxlength:255},last_name:{required:!0,maxlength:255},position:{required:!0,maxlength:255},company:{required:!0,maxlength:255},email:{required:!0,email:!0,maxlength:255},phone:{required:!0,number:!0,maxlength:255,minlength:5},description:{required:!1,maxlength:65535}},messages:{email:{email:"Please enter a valid email address."}},submitHandler:function(e,t){t.preventDefault();var n=new FormData(e),o=e.getAttribute("data-url"),a=e.querySelector(".registration__error");e.nextElementSibling;n.append("handler_id",e.dataset.handler),handleFormSubmit(o,n,{type:e.dataset.type}).then(function(e){e.data.status?($(".notification").show(),$("form").trigger("reset")):(a.textContent="Check selected fields, please.",show(a)),Object.keys(e.data).length>1&&Object.keys(e.data).map(function(e){var t=e.split("-")[1];return document.querySelector("[name="+t+"]").classList.add("has-error")})}).catch(function(e){console.log(e)})}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiTm90aWZ5IiwibWVzc2FnZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImRlbGF5IiwiZXhpc3RpbmdOb3RpZnkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3cmFwcGVyIiwiY3JlYXRlRWxlbWVudCIsInRleHROb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJib2R5IiwicmVtb3ZlQ2hpbGQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsInN0eWxlIiwib3BhY2l0eSIsImFwcGVuZENoaWxkIiwic2V0VGltZW91dCIsInRyYW5zZm9ybSIsIiQiLCJyZWFkeSIsImdldFVybFBhcmFtZXRlciIsInNQYXJhbSIsInNQYXJhbWV0ZXJOYW1lIiwiaSIsInNVUkxWYXJpYWJsZXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsInN1YnN0cmluZyIsInNwbGl0IiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwia3ciLCJhcHBlbmQiLCJyZW1vdmUiLCJ0aXRsZSIsInZpZGUiLCJwb3N0ZXJUeXBlIiwiY2xhc3NOYW1lIiwib3dsQ2Fyb3VzZWwiLCJsb29wIiwiZG90cyIsIm5hdiIsIm5hdlRleHQiLCJhdXRvcGxheSIsImF1dG9wbGF5VGltZW91dCIsImF1dG9wbGF5SG92ZXJQYXVzZSIsIm1hcmdpbiIsInJlc3BvbnNpdmUiLCIwIiwiaXRlbXMiLCI3NjgiLCJhdXRvV2lkdGgiLCIxMDIwIiwiMTI4MCIsIjEyNTAiLCJBT1MiLCJpbml0IiwibmV3c2xldHRlciIsIm5ld3NsZXR0ZXJPayIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkb2NIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJ0cmlnZ2VySGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJuZXdzTGV0dGVyS2V5IiwidHdvV2Vla3MiLCJkYXRlTm93IiwiRGF0ZSIsIm5vdyIsIm5ld3NMZXR0ZXJTaG93biIsImRhdGUiLCJzaG93biIsInNob3dOZXdzbGV0dGVyUG9wdXAiLCJpc05ld3NMZXR0ZXIiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZm9yRWFjaCIsImNhbGwiLCJpdGVtIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInNjcm9sbFkiLCJvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiYXR0ciIsInRoaXMiLCJvZmZzZXQiLCJ0b3AiLCJjdXJyZW50WWVhciIsImdldEZ1bGxZZWFyIiwidGV4dCIsImFkZENsYXNzIiwib3dsIiwiZm9ybSIsImZpbGxJbk93bEluaXQiLCJzbGlkZXJDb250YWluZXIiLCJpdGVtc01vYmlsZSIsIml0ZW1zVGFibGV0Iiwic3BlZWQiLCJjb2xvciIsImRvdCIsImF1dG9wbGF5VGltZW91dE1vYmlsZSIsImRvdE1vYmlsZSIsIndpZHRoIiwid2lkdGhBbmltIiwib3dsSW5pdEZ1bmN0aW9uIiwic3RlcCIsImdldFByZXZJdGVtIiwiZmluZCIsImNzcyIsImJvcmRlci1jb2xvciIsImlubmVyV2lkdGgiLCJnZXROZXh0SXRlbSIsImJvcmRlci1sZWZ0IiwicHVzaCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJlbW92ZUF0dHIiLCJvbmUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNsaWNrIiwibmV4dEl0ZW1JbmRleCIsImVhY2giLCJpbmRleCIsImhhc0NsYXNzIiwicHJldkl0ZW0iLCJsYXp5TG9hZCIsImF1dG9wbGF5U3BlZWQiLCJzbWFydFNwZWVkIiwib25Jbml0aWFsaXplZCIsIm9uQ2hhbmdlIiwicHJvcCIsInByb3BlcnR5IiwibmFtZSIsIm9uQ2hhbmdlZCIsIjYwMCIsIjEwMDAiLCJ2YWxpZGF0b3IiLCJtZXRob2RzIiwibnVtYmVyIiwidmFsdWUiLCJlbGVtZW50Iiwib3B0aW9uYWwiLCJ0ZXN0IiwiaGlkZSIsImVsZW0iLCJkaXNwbGF5IiwidmFsaWRhdGUiLCJzaG93RXJyb3JzIiwiZXJyb3JNYXAiLCJlcnJvckxpc3QiLCJ1cGxvYWRFcnJvck1lc3NhZ2UiLCJub3RpZnlEZWxheSIsImRlZmF1bHRTaG93RXJyb3JzIiwicnVsZXMiLCJyZXF1aXJlZCIsIm1heGxlbmd0aCIsImxhc3RfbmFtZSIsInBvc2l0aW9uIiwiY29tcGFueSIsImVtYWlsIiwicGhvbmUiLCJtaW5sZW5ndGgiLCJkZXNjcmlwdGlvbiIsIm1lc3NhZ2VzIiwic3VibWl0SGFuZGxlciIsInJvd0RhdGEiLCJGb3JtRGF0YSIsInVybCIsImdldEF0dHJpYnV0ZSIsImNvbnRhY3RFcnJvck1lc3NhZ2UiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJkYXRhc2V0IiwiaGFuZGxlciIsImhhbmRsZUZvcm1TdWJtaXQiLCJ0eXBlIiwidGhlbiIsInJlcyIsImRhdGEiLCJzdGF0dXMiLCJzaG93IiwidHJpZ2dlciIsInRleHRDb250ZW50IiwiT2JqZWN0Iiwia2V5cyIsIm1hcCIsImVycm9yIiwiaW5wdXROYW1lIiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiQUFBQSxhQTBHQSxTQUFBQSxTQUNBLElBQUFDLEVBQUFDLFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQUEsa0JBQ0FHLEVBQUFILFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQUEsSUFFQUksRUFBQUMsU0FBQUMsY0FBQSxXQUNBQyxFQUFBRixTQUFBRyxjQUFBLE9BQ0FDLEVBQUFKLFNBQUFLLGVBQUFYLEdBQ0FZLEVBQUFOLFNBQUFNLEtBb0JBLE9BbEJBUCxHQUFBTyxFQUFBQyxZQUFBUixHQUVBRyxFQUFBTSxVQUFBQyxJQUFBLFVBQ0FQLEVBQUFRLGlCQUFBLFFBQUEsU0FBQUMsR0FDQSxPQUFBQSxFQUFBQyxPQUFBQyxNQUFBQyxRQUFBLElBRUFaLEVBQUFhLFlBQUFYLEdBRUFZLFdBQUEsV0FDQWQsRUFBQVcsTUFBQUMsUUFBQSxFQUNBWixFQUFBVyxNQUFBSSxVQUFBLGlCQUNBLEtBRUFE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QyxLQUFBUCxFQUFBQyxNQUFBMUwsT0FBQSxHQUNBK0wsT0FBQUMsS0FBQVAsRUFBQUMsTUFBQU8sSUFBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUFELEVBQUFqSyxNQUFBLEtBQUEsR0FHQSxPQUZBN0IsU0FBQUMsY0FBQSxTQUFBOEwsRUFBQSxLQUVBdkwsVUFBQUMsSUFBQSxpQkFHQXVMLE1BQUEsU0FBQUYsR0FDQUcsUUFBQUMsSUFBQUoiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG4gIHZhciBnZXRVcmxQYXJhbWV0ZXIgPSBmdW5jdGlvbiBnZXRVcmxQYXJhbWV0ZXIoc1BhcmFtKSB7XG4gICAgdmFyIHNQYWdlVVJMID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSksXG4gICAgICAgIHNVUkxWYXJpYWJsZXMgPSBzUGFnZVVSTC5zcGxpdCgnJicpLFxuICAgICAgICBzUGFyYW1ldGVyTmFtZSxcbiAgICAgICAgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzVVJMVmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzUGFyYW1ldGVyTmFtZSA9IHNVUkxWYXJpYWJsZXNbaV0uc3BsaXQoJz0nKTtcblxuICAgICAgaWYgKHNQYXJhbWV0ZXJOYW1lWzBdID09PSBzUGFyYW0pIHtcbiAgICAgICAgcmV0dXJuIHNQYXJhbWV0ZXJOYW1lWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogZGVjb2RlVVJJQ29tcG9uZW50KHNQYXJhbWV0ZXJOYW1lWzFdKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGt3ID0gZ2V0VXJsUGFyYW1ldGVyKCdrdycpO1xuICB2YXIgbG9jYXRpb24gPSBnZXRVcmxQYXJhbWV0ZXIoJ2xvY2F0aW9uJyk7XG5cbiAgaWYgKGt3ICYmIGxvY2F0aW9uKSB7XG4gICAgJCgnLmt3JykuYXBwZW5kKGt3ICsgJyBpbiAnICsgbG9jYXRpb24pO1xuICB9IGVsc2UgaWYgKGt3KSB7XG4gICAgJCgnLmt3JykuYXBwZW5kKGt3KTtcbiAgfSBlbHNlIGlmIChsb2NhdGlvbikge1xuICAgICQoJy5rdycpLmFwcGVuZCgnTW9iaWxlIEFwcCBEZXZlbG9wbWVudCBDb21wYW55IGluICcgKyBsb2NhdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgJCgnLmt3JykuYXBwZW5kKCdNb2JpbGUgQXBwIERldmVsb3BtZW50IENvbXBhbnknKTtcbiAgfVxuXG4gICQoJ21ldGFbbmFtZT1kZXNjcmlwdGlvbl0nKS5yZW1vdmUoKTtcblxuICBpZiAoa3cpIHtcbiAgICBkb2N1bWVudC50aXRsZSA9IGt3ICsgJyB8IEludGVsbGVjdHNvZnQgVVMnO1xuICAgICQoJ2hlYWQnKS5hcHBlbmQoJzxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9XCJRdWlja2x5IGJ1aWxkIHRoZSB0ZWFtIHlvdSBuZWVkIHdpdGggb3VyICcgKyBrdyArICcgaW4gJyArIGxvY2F0aW9uICsgJy4gRW1wbG95IHRoZSBiZXN0IGFwcCBkZXZlbG9wZXJzIGZvciB5b3VyIG1vYmlsZSBhcHAgbm93LlwiPicpO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LnRpdGxlID0gJ01vYmlsZSBBcHAgRGV2ZWxvcG1lbnQgQ29tcGFueSB8IEludGVsbGVjdHNvZnQgVVMnO1xuICAgICQoJ2hlYWQnKS5hcHBlbmQoJzxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9XCJRdWlja2x5IGJ1aWxkIHRoZSB0ZWFtIHlvdSBuZWVkIHdpdGggb3VyIE1vYmlsZSBBcHAgRGV2ZWxvcG1lbnQgQ29tcGFueS4gRW1wbG95IHRoZSBiZXN0IGFwcCBkZXZlbG9wZXJzIGZvciB5b3VyIG1vYmlsZSBhcHAgbm93LlwiPicpO1xuICB9XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgLypcdFZpZGVvIEJhY2tncm91bmRcbiAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgJCgnLnZpZGVvLXBsYXknKS52aWRlKFwiL3N0YXRpYy83L2ltYWdlcy92aWRlby92aWRlb1wiLCB7XG4gICAgcG9zdGVyVHlwZTogXCJqcGdcIixcbiAgICBjbGFzc05hbWU6ICd2aWRlby1jb250YWluZXInXG4gIH0pO1xufSk7XG5cbi8vIENsaWVudHMgc2VjdGlvblxuJCgnLmNsaWVudHNfX2NvbnRhaW5lcicpLm93bENhcm91c2VsKHtcbiAgbG9vcDogdHJ1ZSxcbiAgZG90czogZmFsc2UsXG4gIG5hdjogdHJ1ZSxcbiAgbmF2VGV4dDogW1wiXCIsIFwiXCJdLFxuICBhdXRvcGxheTogZmFsc2UsXG4gIGF1dG9wbGF5VGltZW91dDogMzAwMCxcbiAgYXV0b3BsYXlIb3ZlclBhdXNlOiB0cnVlLFxuICBtYXJnaW46IDEwLFxuICByZXNwb25zaXZlOiB7XG4gICAgMDoge1xuICAgICAgaXRlbXM6IDFcbiAgICB9LFxuICAgIDc2ODoge1xuICAgICAgaXRlbXM6IDIsXG4gICAgICBhdXRvV2lkdGg6IHRydWVcbiAgICB9LFxuICAgIDEwMjA6IHtcbiAgICAgIGl0ZW1zOiAzLFxuICAgICAgYXV0b1dpZHRoOiB0cnVlXG4gICAgfSxcbiAgICAxMjgwOiB7XG4gICAgICBpdGVtczogNFxuICAgIH1cbiAgfVxufSk7XG5cbi8vIEF3YXJkcyBzZWN0aW9uXG4kKCcuYWJvdXRfX2F3YXJkcycpLm93bENhcm91c2VsKHtcbiAgbG9vcDogdHJ1ZSxcbiAgZG90czogZmFsc2UsXG4gIGF1dG9wbGF5OiB0cnVlLFxuICBhdXRvcGxheVRpbWVvdXQ6IDMwMDAsXG4gIGF1dG9wbGF5SG92ZXJQYXVzZTogdHJ1ZSxcbiAgbmF2OiB0cnVlLFxuICBuYXZUZXh0OiBbXCJcIiwgXCJcIl0sXG4gIHJlc3BvbnNpdmU6IHtcbiAgICAwOiB7XG4gICAgICBpdGVtczogMVxuICAgIH0sXG4gICAgNzY4OiB7XG4gICAgICBpdGVtczogM1xuICAgIH0sXG4gICAgMTI1MDoge1xuICAgICAgaXRlbXM6IDRcbiAgICB9XG4gIH1cbn0pO1xuXG5BT1MuaW5pdCgpO1xuXG5mdW5jdGlvbiBOb3RpZnkoKSB7XG4gIHZhciBtZXNzYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnRGVmYXVsdCBtZXNzYWdlJztcbiAgdmFyIGRlbGF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAzMDAwO1xuXG4gIHZhciBleGlzdGluZ05vdGlmeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3RpZnknKTtcbiAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobWVzc2FnZSk7XG4gIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcblxuICBpZiAoZXhpc3RpbmdOb3RpZnkpIGJvZHkucmVtb3ZlQ2hpbGQoZXhpc3RpbmdOb3RpZnkpO1xuXG4gIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbm90aWZ5Jyk7XG4gIHdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBlLnRhcmdldC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgfSk7XG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHdyYXBwZXIuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgd3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSc7XG4gIH0sIDMwMCk7XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgd3JhcHBlci5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICB3cmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDIwMCUpJztcbiAgfSwgZGVsYXkpO1xuXG4gIHJldHVybiBib2R5LmFwcGVuZENoaWxkKHdyYXBwZXIpO1xufVxuXG52YXIgbmV3c2xldHRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdzbGV0dGVyJyk7XG52YXIgbmV3c2xldHRlck9rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwLW9rJyk7XG52YXIgZG9jSGVpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLm9mZnNldEhlaWdodDtcbnZhciB0cmlnZ2VySGVpZ2h0ID0gZG9jSGVpZ2h0ICogMC43NSAtIHdpbmRvdy5pbm5lckhlaWdodDtcbnZhciBuZXdzTGV0dGVyS2V5ID0gJ2lzTmV3c2xldHRlcic7XG52YXIgdHdvV2Vla3MgPSA3ICogMjQgKiA2MCAqIDYwICogMTAwMCAqIDI7XG52YXIgZGF0ZU5vdyA9IERhdGUubm93KCk7XG52YXIgbmV3c0xldHRlclNob3duID0ge1xuICBkYXRlOiBkYXRlTm93ICsgdHdvV2Vla3MsXG4gIHNob3duOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBzaG93TmV3c2xldHRlclBvcHVwKCkge1xuICB2YXIgaXNOZXdzTGV0dGVyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuZXdzTGV0dGVyS2V5KSk7XG4gIGlmICghaXNOZXdzTGV0dGVyIHx8IGlzTmV3c0xldHRlci5kYXRlIDwgZGF0ZU5vdykge1xuICAgIHJldHVybiBuZXdzbGV0dGVyICYmIG5ld3NsZXR0ZXIuY2xhc3NMaXN0LmFkZCgnbmV3c2xldHRlci0tc2hvdycpO1xuICB9XG59XG5cbm5ld3NsZXR0ZXJPayAmJiBbXS5mb3JFYWNoLmNhbGwobmV3c2xldHRlck9rLCBmdW5jdGlvbiAoaXRlbSkge1xuICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIG5ld3NsZXR0ZXIuY2xhc3NMaXN0LnJlbW92ZSgnbmV3c2xldHRlci0tc2hvdycpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKG5ld3NMZXR0ZXJLZXksIEpTT04uc3RyaW5naWZ5KG5ld3NMZXR0ZXJTaG93bikpO1xuICB9KTtcbn0pO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICB2YXIgc2Nyb2xsSGVpZ2h0ID0gd2luZG93LnNjcm9sbFk7XG4gIHNjcm9sbEhlaWdodCA+IHRyaWdnZXJIZWlnaHQgPyBzaG93TmV3c2xldHRlclBvcHVwKCkgOiAnJztcbn0pO1xuXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnYVtocmVmXj1cIiNcIl0nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgc2Nyb2xsVG9wOiAkKCQuYXR0cih0aGlzLCAnaHJlZicpKS5vZmZzZXQoKS50b3BcbiAgfSwgNTAwKTtcbn0pO1xuXG5pZiAoJCgnLmZvb3Rlcl9feWVhcicpLmxlbmd0aCkge1xuICB2YXIgY3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG4gICQoJy5mb290ZXJfX3llYXInKS50ZXh0KGN1cnJlbnRZZWFyKTtcbn1cblxuaWYgKCQoJ2h0bWxbbGFuZz1cIm5vXCJdJykubGVuZ3RoKSB7XG4gICQoJy53b3JrX19jdGEnKS5hZGRDbGFzcygnd29ya19fY3RhLS1ubycpO1xuICAkKCcud29ya19fY3RhLXRpdGxlJykuYWRkQ2xhc3MoJ3dvcmtfX2N0YS10aXRsZS0tbm8nKTtcbiAgJCgnLmNvbXBldGVuY2VfX2NvbnRlbnQnKS5hZGRDbGFzcygnY29tcGV0ZW5jZV9fY29udGVudC0tbm8nKTtcbn1cblxuLy8gUmFua2luZyB3aWRnZXQgY2Fyb3VzZWwgaW5pdGlhbGl6YXRpb25cbnZhciBvd2wgPSAkKCcjcmFua2luZycpO1xudmFyIGZvcm0gPSAkKCcjZm9ybVJhbmtpbmcnKTtcblxuZmlsbEluT3dsSW5pdChvd2wsICcucmFua2luZycsIHRydWUsIDQsIDQsIDcsIDEwLCAnMCwgMTEwLCAyNTAnLCA1LCBmYWxzZSwgZmFsc2UsIGZhbHNlLCB0cnVlLCAyMDAwLCBmYWxzZSwgNSk7XG5maWxsSW5Pd2xJbml0KGZvcm0sICcucmFua2luZy1mb3JtJywgZmFsc2UsIDQsIDIsIDMsIDYsICcyNTUsIDI1NSwgMjU1JywgMTAsIHRydWUsIGZhbHNlLCBmYWxzZSwgdHJ1ZSwgMjAwMCwgdHJ1ZSwgOSk7XG5cbmZ1bmN0aW9uIGZpbGxJbk93bEluaXQob3dsLCBzbGlkZXJDb250YWluZXIsIGF1dG9wbGF5LCBpdGVtcywgaXRlbXNNb2JpbGUsIGl0ZW1zVGFibGV0LCBzcGVlZCwgY29sb3IsIG1hcmdpbiwgZm9ybSwgbmF2LCBsb29wLCBkb3QsIGF1dG9wbGF5VGltZW91dE1vYmlsZSwgZG90TW9iaWxlKSB7XG4gIHZhciBkb3RzID0gdm9pZCAwLFxuICAgICAgd2lkdGggPSAwLFxuICAgICAgb3BhY2l0eSA9IDEsXG4gICAgICB3aWR0aEFuaW0gPSBbXTtcblxuICBpZiAob3dsLmxlbmd0aCA+IDApIHtcbiAgICBvd2wub3dsQ2Fyb3VzZWwoe1xuICAgICAgbG9vcDogbG9vcCxcbiAgICAgIGxhenlMb2FkOiB0cnVlLFxuICAgICAgbWFyZ2luOiBtYXJnaW4sXG4gICAgICBuYXY6IG5hdixcbiAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgIGRvdHM6IGRvdCxcbiAgICAgIGF1dG9wbGF5OiBhdXRvcGxheSxcbiAgICAgIGF1dG9wbGF5VGltZW91dDogNzAwMCxcbiAgICAgIGF1dG9wbGF5U3BlZWQ6IDIwMDAsXG4gICAgICBzbWFydFNwZWVkOiA2MDAsXG4gICAgICBvbkluaXRpYWxpemVkOiBvd2xJbml0RnVuY3Rpb24sXG4gICAgICBvbkNoYW5nZTogb3dsQ2hhbmdlZEZ1bmN0aW9uLFxuICAgICAgb25DaGFuZ2VkOiBvd2xJbml0RnVuY3Rpb24sXG4gICAgICByZXNwb25zaXZlOiB7XG4gICAgICAgIDA6IHtcbiAgICAgICAgICBpdGVtczogZm9ybSA/IDIgOiAxLFxuICAgICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgICBkb3RzOiBkb3RNb2JpbGUsXG4gICAgICAgICAgbmF2OiBmYWxzZSxcbiAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICAgICAgICBhdXRvcGxheVRpbWVvdXQ6IGF1dG9wbGF5VGltZW91dE1vYmlsZVxuICAgICAgICB9LFxuICAgICAgICA2MDA6IHtcbiAgICAgICAgICBpdGVtczogZm9ybSA/IGl0ZW1zVGFibGV0IDogaXRlbXNNb2JpbGUsXG4gICAgICAgICAgbWFyZ2luOiBmb3JtID8gMjUgOiBtYXJnaW5cbiAgICAgICAgfSxcbiAgICAgICAgMTAwMDoge1xuICAgICAgICAgIGl0ZW1zOiBpdGVtc1RhYmxldCxcbiAgICAgICAgICBtYXJnaW46IGZvcm0gPyAyNSA6IG1hcmdpblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvd2xJbml0RnVuY3Rpb24oKSB7XG4gICAgZG90cyA9ICQoc2xpZGVyQ29udGFpbmVyICsgJyAub3dsLWRvdCcpO1xuICAgIGlmIChkb3RzLmxlbmd0aCAmJiAhbmF2KSB7XG4gICAgICBzdGVwKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb3dsQ2hhbmdlZEZ1bmN0aW9uKHByb3ApIHtcbiAgICBpZiAocHJvcC5wcm9wZXJ0eS5uYW1lID09PSAncG9zaXRpb24nKSB7XG4gICAgICB3aWR0aCA9IDUwO1xuICAgIH1cbiAgICBkb3RzLmZpbmQoJ3NwYW4nKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgIHdpZHRoID0gMDtcbiAgICBvcGFjaXR5ID0gMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0ZXAoKSB7XG4gICAgdmFyIGluY3JlbWVudCA9IDUwIC8gKHNwZWVkICogNjApO1xuICAgIHZhciBkZWNyZW1lbnQgPSAxIC8gKHNwZWVkICogNjApO1xuICAgIHdpZHRoICs9IGluY3JlbWVudDtcbiAgICBvcGFjaXR5IC09IGRlY3JlbWVudDtcbiAgICAkKGRvdHNbZ2V0UHJldkl0ZW0oKV0pLmZpbmQoJ3NwYW4nKS5jc3Moe1xuICAgICAgJ2JvcmRlci1jb2xvcic6ICdyZ2JhKCcgKyBjb2xvciArICcsICcgKyBvcGFjaXR5ICsgJyknXG4gICAgfSk7XG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDU5OSkge1xuICAgICAgJChkb3RzW2dldE5leHRJdGVtKCldKS5maW5kKCdzcGFuJykuY3NzKHtcbiAgICAgICAgJ2JvcmRlci1sZWZ0JzogJ3NvbGlkICcgKyB3aWR0aCAvIDIgKyAncHggcmdiYSgnICsgY29sb3IgKyAnLCAxKSdcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKGRvdHNbZ2V0TmV4dEl0ZW0oKV0pLmZpbmQoJ3NwYW4nKS5jc3Moe1xuICAgICAgICAnYm9yZGVyLWxlZnQnOiAnc29saWQgJyArIHdpZHRoICsgJ3B4IHJnYmEoJyArIGNvbG9yICsgJywgMSknXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAod2lkdGggPCA1MCkge1xuICAgICAgd2lkdGhBbmltLnB1c2gocmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzZXRTdHlsZXMoKTtcbiAgICAgIGRvdHNbZ2V0TmV4dEl0ZW0oKV0uY2xpY2soKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFN0eWxlcygpIHtcbiAgICB3aWR0aCA9IDA7XG4gICAgb3BhY2l0eSA9IDE7XG4gICAgJChkb3RzW2dldFByZXZJdGVtKCldKS5maW5kKCdzcGFuJykucmVtb3ZlQXR0cignc3R5bGUnKTtcbiAgICAkKGRvdHNbZ2V0TmV4dEl0ZW0oKV0pLmZpbmQoJ3NwYW4nKS5jc3Moe1xuICAgICAgJ2JvcmRlci1sZWZ0JzogJydcbiAgICB9KTtcbiAgICBkb3RzLm9uZSgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICB3aWR0aEFuaW0uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShpdGVtKTtcbiAgICAgIH0pO1xuICAgICAgd2lkdGhBbmltID0gW107XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXROZXh0SXRlbSgpIHtcbiAgICB2YXIgbmV4dEl0ZW1JbmRleCA9IDA7XG4gICAgJC5lYWNoKGRvdHMsIGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xuICAgICAgaWYgKCQoaXRlbSkuaGFzQ2xhc3MoJ2FjdGl2ZScpICYmIGluZGV4IDwgZG90cy5sZW5ndGggLSAxKSB7XG4gICAgICAgIG5leHRJdGVtSW5kZXggPSBpbmRleCArIDE7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV4dEl0ZW1JbmRleDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFByZXZJdGVtKCkge1xuICAgIHZhciBwcmV2SXRlbSA9IGRvdHMubGVuZ3RoIC0gMTtcbiAgICAkLmVhY2goZG90cywgZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgICBpZiAoJChpdGVtKS5oYXNDbGFzcygnYWN0aXZlJykgJiYgaW5kZXggPCBkb3RzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgcHJldkl0ZW0gPSBpbmRleDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBwcmV2SXRlbTtcbiAgfVxufVxuXG4kLnZhbGlkYXRvci5tZXRob2RzLm51bWJlciA9IGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCkge1xuICByZXR1cm4gdGhpcy5vcHRpb25hbChlbGVtZW50KSB8fCAvXlswLTkrXFwtKCkg4oCUXSskLy50ZXN0KHZhbHVlKTtcbn07XG5cbnZhciBoaWRlID0gZnVuY3Rpb24gaGlkZShlbGVtKSB7XG4gIHJldHVybiBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG4kKCdmb3JtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICQodGhpcykudmFsaWRhdGUoe1xuICAgIHNob3dFcnJvcnM6IGZ1bmN0aW9uIHNob3dFcnJvcnMoZXJyb3JNYXAsIGVycm9yTGlzdCkge1xuICAgICAgaWYgKGVycm9yTWFwWydhdHRhY2gnXSkgTm90aWZ5KHVwbG9hZEVycm9yTWVzc2FnZSwgbm90aWZ5RGVsYXkpO1xuICAgICAgdGhpcy5kZWZhdWx0U2hvd0Vycm9ycygpO1xuICAgIH0sXG4gICAgcnVsZXM6IHtcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICB9LFxuICAgICAgbGFzdF9uYW1lOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgfSxcbiAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgfSxcbiAgICAgIGNvbXBhbnk6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICB9LFxuICAgICAgZW1haWw6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgfSxcbiAgICAgIHBob25lOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBudW1iZXI6IHRydWUsXG4gICAgICAgIG1heGxlbmd0aDogMjU1LFxuICAgICAgICBtaW5sZW5ndGg6IDVcbiAgICAgIH0sXG4gICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIG1heGxlbmd0aDogNjU1MzVcbiAgICAgIH1cbiAgICB9LFxuICAgIG1lc3NhZ2VzOiB7XG4gICAgICBlbWFpbDoge1xuICAgICAgICBlbWFpbDogJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuJ1xuICAgICAgfVxuICAgIH0sXG4gICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24gc3VibWl0SGFuZGxlcihmb3JtLCBldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciByb3dEYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgICAgdmFyIHVybCA9IGZvcm0uZ2V0QXR0cmlidXRlKCdkYXRhLXVybCcpO1xuICAgICAgdmFyIGNvbnRhY3RFcnJvck1lc3NhZ2UgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5yZWdpc3RyYXRpb25fX2Vycm9yJyk7XG4gICAgICB2YXIgdGh4TWVzc2FnZSA9IGZvcm0ubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgcm93RGF0YS5hcHBlbmQoJ2hhbmRsZXJfaWQnLCBmb3JtLmRhdGFzZXQuaGFuZGxlcik7XG5cbiAgICAgIGhhbmRsZUZvcm1TdWJtaXQodXJsLCByb3dEYXRhLCB7XG4gICAgICAgIHR5cGU6IGZvcm0uZGF0YXNldC50eXBlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykge1xuICAgICAgICAgICQoJy5ub3RpZmljYXRpb24nKS5zaG93KCk7XG4gICAgICAgICAgJChcImZvcm1cIikudHJpZ2dlcihcInJlc2V0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRhY3RFcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSAnQ2hlY2sgc2VsZWN0ZWQgZmllbGRzLCBwbGVhc2UuJztcbiAgICAgICAgICBzaG93KGNvbnRhY3RFcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlcy5kYXRhKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgT2JqZWN0LmtleXMocmVzLmRhdGEpLm1hcChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHZhciBpbnB1dE5hbWUgPSBlcnJvci5zcGxpdCgnLScpWzFdO1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9JyArIGlucHV0TmFtZSArICddJyk7XG5cbiAgICAgICAgICAgIHJldHVybiBpbnB1dC5jbGFzc0xpc3QuYWRkKCdoYXMtZXJyb3InKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59KTsiXX0=
