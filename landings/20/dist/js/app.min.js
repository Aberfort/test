"use strict";var handleFormSubmit=window.handleFormSubmit,notifyDelay=1e4;$(".clients__container").owlCarousel({loop:!0,dots:!1,nav:!0,navText:["",""],autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,margin:10,responsive:{0:{items:1},768:{items:2,autoWidth:!0},1020:{items:3,autoWidth:!0},1280:{items:4}}}),$(".about__awards").owlCarousel({loop:!0,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,nav:!0,navText:["",""],responsive:{0:{items:1},768:{items:3},1250:{items:4}}}),AOS.init(),$.validator.methods.number=function(e,t){return this.optional(t)||/^[0-9+\-() â€”]+$/.test(e)};var hide=function(e){return e.style.display="none"};function Notify(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Default message",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,a=document.querySelector(".notify"),n=document.createElement("div"),o=document.createTextNode(e),r=document.body;return a&&r.removeChild(a),n.classList.add("notify"),n.addEventListener("click",function(e){return e.target.style.opacity=0}),n.appendChild(o),setTimeout(function(){n.style.opacity=1,n.style.transform="translateY(0)"},300),setTimeout(function(){n.style.opacity=0,n.style.transform="translateY(200%)"},t),r.appendChild(n)}$("form").each(function(){$(this).validate({showErrors:function(e,t){e.attach&&Notify(uploadErrorMessage,notifyDelay),this.defaultShowErrors()},rules:{name:{required:!0,maxlength:255},last_name:{required:!0,maxlength:255},position:{required:!0,maxlength:255},company:{required:!0,maxlength:255},email:{required:!0,email:!0,maxlength:255},phone:{required:!0,number:!0,maxlength:255,minlength:5},description:{required:!1,maxlength:65535}},messages:{email:{email:"Please enter a valid email address."}},submitHandler:function(e,t){t.preventDefault();var a=new FormData(e),n=e.getAttribute("data-url"),o=e.querySelector(".registration__error");e.nextElementSibling;a.append("handler_id",e.dataset.handler),handleFormSubmit(n,a,{type:e.dataset.type}).then(function(e){e.data.status?($(".notification").show(),$("form").trigger("reset")):(o.textContent="Check selected fields, please.",show(o)),Object.keys(e.data).length>1&&Object.keys(e.data).map(function(e){var t=e.split("-")[1];return document.querySelector("[name="+t+"]").classList.add("has-error")})}).catch(function(e){console.log(e)})}})});var newsletter=document.querySelector(".newsletter"),newsletterOk=document.querySelectorAll(".popup-ok"),docHeight=document.querySelector("body").offsetHeight,triggerHeight=.75*docHeight-window.innerHeight,newsLetterKey="isNewsletter",twoWeeks=12096e5,dateNow=Date.now(),newsLetterShown={date:dateNow+twoWeeks,shown:!0};function showNewsletterPopup(){var e=JSON.parse(localStorage.getItem(newsLetterKey));if(!e||e.date<dateNow)return newsletter&&newsletter.classList.add("newsletter--show")}if(newsletterOk&&[].forEach.call(newsletterOk,function(e){e.addEventListener("click",function(){newsletter.classList.remove("newsletter--show"),localStorage.setItem(newsLetterKey,JSON.stringify(newsLetterShown))})}),window.addEventListener("scroll",function(){window.scrollY>triggerHeight&&showNewsletterPopup()}),$(document).on("click",'a[href^="#"]',function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top},500)}),$(".footer__year").length){var currentYear=(new Date).getFullYear();$(".footer__year").text(currentYear)}$('html[lang="no"]').length&&($(".work__cta").addClass("work__cta--no"),$(".work__cta-title").addClass("work__cta-title--no"));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaGFuZGxlRm9ybVN1Ym1pdCIsIndpbmRvdyIsIm5vdGlmeURlbGF5IiwiJCIsIm93bENhcm91c2VsIiwibG9vcCIsImRvdHMiLCJuYXYiLCJuYXZUZXh0IiwiYXV0b3BsYXkiLCJhdXRvcGxheVRpbWVvdXQiLCJhdXRvcGxheUhvdmVyUGF1c2UiLCJtYXJnaW4iLCJyZXNwb25zaXZlIiwiMCIsIml0ZW1zIiwiNzY4IiwiYXV0b1dpZHRoIiwiMTAyMCIsIjEyODAiLCIxMjUwIiwiQU9TIiwiaW5pdCIsInZhbGlkYXRvciIsIm1ldGhvZHMiLCJudW1iZXIiLCJ2YWx1ZSIsImVsZW1lbnQiLCJ0aGlzIiwib3B0aW9uYWwiLCJ0ZXN0IiwiaGlkZSIsImVsZW0iLCJzdHlsZSIsImRpc3BsYXkiLCJOb3RpZnkiLCJtZXNzYWdlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZGVsYXkiLCJleGlzdGluZ05vdGlmeSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndyYXBwZXIiLCJjcmVhdGVFbGVtZW50IiwidGV4dE5vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImJvZHkiLCJyZW1vdmVDaGlsZCIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0Iiwib3BhY2l0eSIsImFwcGVuZENoaWxkIiwic2V0VGltZW91dCIsInRyYW5zZm9ybSIsImVhY2giLCJ2YWxpZGF0ZSIsInNob3dFcnJvcnMiLCJlcnJvck1hcCIsImVycm9yTGlzdCIsInVwbG9hZEVycm9yTWVzc2FnZSIsImRlZmF1bHRTaG93RXJyb3JzIiwicnVsZXMiLCJuYW1lIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJsYXN0X25hbWUiLCJwb3NpdGlvbiIsImNvbXBhbnkiLCJlbWFpbCIsInBob25lIiwibWlubGVuZ3RoIiwiZGVzY3JpcHRpb24iLCJtZXNzYWdlcyIsInN1Ym1pdEhhbmRsZXIiLCJmb3JtIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInJvd0RhdGEiLCJGb3JtRGF0YSIsInVybCIsImdldEF0dHJpYnV0ZSIsImNvbnRhY3RFcnJvck1lc3NhZ2UiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJhcHBlbmQiLCJkYXRhc2V0IiwiaGFuZGxlciIsInR5cGUiLCJ0aGVuIiwicmVzIiwiZGF0YSIsInN0YXR1cyIsInNob3ciLCJ0cmlnZ2VyIiwidGV4dENvbnRlbnQiLCJPYmplY3QiLCJrZXlzIiwibWFwIiwiZXJyb3IiLCJpbnB1dE5hbWUiLCJzcGxpdCIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsIm5ld3NsZXR0ZXIiLCJuZXdzbGV0dGVyT2siLCJxdWVyeVNlbGVjdG9yQWxsIiwiZG9jSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwidHJpZ2dlckhlaWdodCIsImlubmVySGVpZ2h0IiwibmV3c0xldHRlcktleSIsInR3b1dlZWtzIiwiZGF0ZU5vdyIsIkRhdGUiLCJub3ciLCJuZXdzTGV0dGVyU2hvd24iLCJkYXRlIiwic2hvd24iLCJzaG93TmV3c2xldHRlclBvcHVwIiwiaXNOZXdzTGV0dGVyIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImZvckVhY2giLCJjYWxsIiwiaXRlbSIsInJlbW92ZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzY3JvbGxZIiwib24iLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiYXR0ciIsIm9mZnNldCIsInRvcCIsImN1cnJlbnRZZWFyIiwiZ2V0RnVsbFllYXIiLCJ0ZXh0IiwiYWRkQ2xhc3MiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsSUFBQUEsaUJBQUFDLE9BQUFELGlCQUNBRSxZQUFBLElBR0FDLEVBQUEsdUJBQUFDLGFBQ0FDLE1BQUEsRUFDQUMsTUFBQSxFQUNBQyxLQUFBLEVBQ0FDLFNBQUEsR0FBQSxJQUNBQyxVQUFBLEVBQ0FDLGdCQUFBLElBQ0FDLG9CQUFBLEVBQ0FDLE9BQUEsR0FDQUMsWUFDQUMsR0FDQUMsTUFBQSxHQUVBQyxLQUNB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QWtFLGFBQUFuRSxTQUFBb0UsaUJBQUEsYUFDQUMsVUFBQXJFLFNBQUFDLGNBQUEsUUFBQXFFLGFBQ0FDLGNBQUEsSUFBQUYsVUFBQTlHLE9BQUFpSCxZQUNBQyxjQUFBLGVBQ0FDLFNBQUEsUUFDQUMsUUFBQUMsS0FBQUMsTUFDQUMsaUJBQ0FDLEtBQUFKLFFBQUFELFNBQ0FNLE9BQUEsR0FHQSxTQUFBQyxzQkFDQSxJQUFBQyxFQUFBQyxLQUFBQyxNQUFBQyxhQUFBQyxRQUFBYixnQkFDQSxJQUFBUyxHQUFBQSxFQUFBSCxLQUFBSixRQUNBLE9BQUFULFlBQUFBLFdBQUExRCxVQUFBQyxJQUFBLG9CQXdCQSxHQXBCQTBELGlCQUFBb0IsUUFBQUMsS0FBQXJCLGFBQUEsU0FBQXNCLEdBQ0FBLEVBQUEvRSxpQkFBQSxRQUFBLFdBQ0F3RCxXQUFBMUQsVUFBQWtGLE9BQUEsb0JBQ0FMLGFBQUFNLFFBQUFsQixjQUFBVSxLQUFBUyxVQUFBZCxzQkFJQXZILE9BQUFtRCxpQkFBQSxTQUFBLFdBQ0FuRCxPQUFBc0ksUUFDQXRCLGVBQUFVLHdCQUdBeEgsRUFBQXVDLFVBQUE4RixHQUFBLFFBQUEsZUFBQSxTQUFBeEQsR0FDQUEsRUFBQUMsaUJBRUE5RSxFQUFBLGNBQUFzSSxTQUNBQyxVQUFBdkksRUFBQUEsRUFBQXdJLEtBQUEvRyxLQUFBLFNBQUFnSCxTQUFBQyxLQUNBLE9BR0ExSSxFQUFBLGlCQUFBbUMsT0FBQSxDQUNBLElBQUF3RyxhQUFBLElBQUF4QixNQUFBeUIsY0FDQTVJLEVBQUEsaUJBQUE2SSxLQUFBRixhQUdBM0ksRUFBQSxtQkFBQW1DLFNBQ0FuQyxFQUFBLGNBQUE4SSxTQUFBLGlCQUNBOUksRUFBQSxvQkFBQThJLFNBQUEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaGFuZGxlRm9ybVN1Ym1pdCA9IHdpbmRvdy5oYW5kbGVGb3JtU3VibWl0OyAvLyBXZSBnb3QgaXQgZnJvbSB0cmFjY29vbiBwcm9qZWN0LlxudmFyIG5vdGlmeURlbGF5ID0gMTAwMDA7XG5cbi8vIENsaWVudHMgc2VjdGlvblxuJCgnLmNsaWVudHNfX2NvbnRhaW5lcicpLm93bENhcm91c2VsKHtcbiAgICBsb29wOiB0cnVlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIG5hdjogdHJ1ZSxcbiAgICBuYXZUZXh0OiBbXCJcIiwgXCJcIl0sXG4gICAgYXV0b3BsYXk6IHRydWUsXG4gICAgYXV0b3BsYXlUaW1lb3V0OiAzMDAwLFxuICAgIGF1dG9wbGF5SG92ZXJQYXVzZTogdHJ1ZSxcbiAgICBtYXJnaW46IDEwLFxuICAgIHJlc3BvbnNpdmU6IHtcbiAgICAgICAgMDoge1xuICAgICAgICAgICAgaXRlbXM6IDFcbiAgICAgICAgfSxcbiAgICAgICAgNzY4OiB7XG4gICAgICAgICAgICBpdGVtczogMixcbiAgICAgICAgICAgIGF1dG9XaWR0aDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICAxMDIwOiB7XG4gICAgICAgICAgICBpdGVtczogMyxcbiAgICAgICAgICAgIGF1dG9XaWR0aDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICAxMjgwOiB7XG4gICAgICAgICAgICBpdGVtczogNFxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8vIEF3YXJkcyBzZWN0aW9uXG4kKCcuYWJvdXRfX2F3YXJkcycpLm93bENhcm91c2VsKHtcbiAgICBsb29wOiB0cnVlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgIGF1dG9wbGF5VGltZW91dDogMzAwMCxcbiAgICBhdXRvcGxheUhvdmVyUGF1c2U6IHRydWUsXG4gICAgbmF2OiB0cnVlLFxuICAgIG5hdlRleHQ6IFtcIlwiLCBcIlwiXSxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICAgIDA6IHtcbiAgICAgICAgICAgIGl0ZW1zOiAxXG4gICAgICAgIH0sXG4gICAgICAgIDc2ODoge1xuICAgICAgICAgICAgaXRlbXM6IDNcbiAgICAgICAgfSxcbiAgICAgICAgMTI1MDoge1xuICAgICAgICAgICAgaXRlbXM6IDRcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5BT1MuaW5pdCgpO1xuXG4kLnZhbGlkYXRvci5tZXRob2RzLm51bWJlciA9IGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IC9eWzAtOStcXC0oKSDigJRdKyQvLnRlc3QodmFsdWUpO1xufTtcblxudmFyIGhpZGUgPSBmdW5jdGlvbiBoaWRlKGVsZW0pIHtcbiAgICByZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufTtcblxuJCgnZm9ybScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykudmFsaWRhdGUoe1xuICAgICAgICBzaG93RXJyb3JzOiBmdW5jdGlvbiBzaG93RXJyb3JzKGVycm9yTWFwLCBlcnJvckxpc3QpIHtcbiAgICAgICAgICAgIGlmIChlcnJvck1hcFsnYXR0YWNoJ10pIE5vdGlmeSh1cGxvYWRFcnJvck1lc3NhZ2UsIG5vdGlmeURlbGF5KTtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFNob3dFcnJvcnMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcnVsZXM6IHtcbiAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxhc3RfbmFtZToge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBhbnk6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwaG9uZToge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG51bWJlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDI1NSxcbiAgICAgICAgICAgICAgICBtaW5sZW5ndGg6IDVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDY1NTM1XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgICAgIGVtYWlsOiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy4nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN1Ym1pdEhhbmRsZXI6IGZ1bmN0aW9uIHN1Ym1pdEhhbmRsZXIoZm9ybSwgZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgcm93RGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgICAgICAgIHZhciB1cmwgPSBmb3JtLmdldEF0dHJpYnV0ZSgnZGF0YS11cmwnKTtcbiAgICAgICAgICAgIHZhciBjb250YWN0RXJyb3JNZXNzYWdlID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcucmVnaXN0cmF0aW9uX19lcnJvcicpO1xuICAgICAgICAgICAgdmFyIHRoeE1lc3NhZ2UgPSBmb3JtLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgIHJvd0RhdGEuYXBwZW5kKCdoYW5kbGVyX2lkJywgZm9ybS5kYXRhc2V0LmhhbmRsZXIpO1xuXG4gICAgICAgICAgICBoYW5kbGVGb3JtU3VibWl0KHVybCwgcm93RGF0YSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IGZvcm0uZGF0YXNldC50eXBlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5ub3RpZmljYXRpb24nKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICQoXCJmb3JtXCIpLnRyaWdnZXIoXCJyZXNldFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250YWN0RXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gJ0NoZWNrIHNlbGVjdGVkIGZpZWxkcywgcGxlYXNlLic7XG4gICAgICAgICAgICAgICAgICAgIHNob3coY29udGFjdEVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlcy5kYXRhKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHJlcy5kYXRhKS5tYXAoZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXROYW1lID0gZXJyb3Iuc3BsaXQoJy0nKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT1cIiArIGlucHV0TmFtZSArIFwiXVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2hhcy1lcnJvcicpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbmZ1bmN0aW9uIE5vdGlmeSgpIHtcbiAgICB2YXIgbWVzc2FnZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ0RlZmF1bHQgbWVzc2FnZSc7XG4gICAgdmFyIGRlbGF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAzMDAwO1xuXG4gICAgdmFyIGV4aXN0aW5nTm90aWZ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGlmeScpO1xuICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobWVzc2FnZSk7XG4gICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuXG4gICAgaWYgKGV4aXN0aW5nTm90aWZ5KSBib2R5LnJlbW92ZUNoaWxkKGV4aXN0aW5nTm90aWZ5KTtcblxuICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbm90aWZ5Jyk7XG4gICAgd3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBlLnRhcmdldC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICB9KTtcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHRleHROb2RlKTtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB3cmFwcGVyLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICB3cmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcbiAgICB9LCAzMDApO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdyYXBwZXIuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIHdyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMjAwJSknO1xuICAgIH0sIGRlbGF5KTtcblxuICAgIHJldHVybiBib2R5LmFwcGVuZENoaWxkKHdyYXBwZXIpO1xufVxuXG52YXIgbmV3c2xldHRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdzbGV0dGVyJyk7XG52YXIgbmV3c2xldHRlck9rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwLW9rJyk7XG52YXIgZG9jSGVpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLm9mZnNldEhlaWdodDtcbnZhciB0cmlnZ2VySGVpZ2h0ID0gZG9jSGVpZ2h0ICogMC43NSAtIHdpbmRvdy5pbm5lckhlaWdodDtcbnZhciBuZXdzTGV0dGVyS2V5ID0gJ2lzTmV3c2xldHRlcic7XG52YXIgdHdvV2Vla3MgPSA3ICogMjQgKiA2MCAqIDYwICogMTAwMCAqIDI7XG52YXIgZGF0ZU5vdyA9IERhdGUubm93KCk7XG52YXIgbmV3c0xldHRlclNob3duID0ge1xuICAgIGRhdGU6IGRhdGVOb3cgKyB0d29XZWVrcyxcbiAgICBzaG93bjogdHJ1ZVxufTtcblxuZnVuY3Rpb24gc2hvd05ld3NsZXR0ZXJQb3B1cCgpIHtcbiAgICB2YXIgaXNOZXdzTGV0dGVyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuZXdzTGV0dGVyS2V5KSk7XG4gICAgaWYgKCFpc05ld3NMZXR0ZXIgfHwgaXNOZXdzTGV0dGVyLmRhdGUgPCBkYXRlTm93KSB7XG4gICAgICAgIHJldHVybiBuZXdzbGV0dGVyICYmIG5ld3NsZXR0ZXIuY2xhc3NMaXN0LmFkZCgnbmV3c2xldHRlci0tc2hvdycpO1xuICAgIH1cbn1cblxubmV3c2xldHRlck9rICYmIFtdLmZvckVhY2guY2FsbChuZXdzbGV0dGVyT2ssIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbmV3c2xldHRlci5jbGFzc0xpc3QucmVtb3ZlKCduZXdzbGV0dGVyLS1zaG93Jyk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKG5ld3NMZXR0ZXJLZXksIEpTT04uc3RyaW5naWZ5KG5ld3NMZXR0ZXJTaG93bikpO1xuICAgIH0pO1xufSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjcm9sbEhlaWdodCA9IHdpbmRvdy5zY3JvbGxZO1xuICAgIHNjcm9sbEhlaWdodCA+IHRyaWdnZXJIZWlnaHQgPyBzaG93TmV3c2xldHRlclBvcHVwKCkgOiAnJztcbn0pO1xuXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnYVtocmVmXj1cIiNcIl0nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICBzY3JvbGxUb3A6ICQoJC5hdHRyKHRoaXMsICdocmVmJykpLm9mZnNldCgpLnRvcFxuICAgIH0sIDUwMCk7XG59KTtcblxuaWYgKCQoJy5mb290ZXJfX3llYXInKS5sZW5ndGgpIHtcbiAgICB2YXIgY3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG4gICAgJCgnLmZvb3Rlcl9feWVhcicpLnRleHQoY3VycmVudFllYXIpO1xufVxuXG5pZiAoJCgnaHRtbFtsYW5nPVwibm9cIl0nKS5sZW5ndGgpIHtcbiAgICAkKCcud29ya19fY3RhJykuYWRkQ2xhc3MoJ3dvcmtfX2N0YS0tbm8nKTtcbiAgICAkKCcud29ya19fY3RhLXRpdGxlJykuYWRkQ2xhc3MoJ3dvcmtfX2N0YS10aXRsZS0tbm8nKTtcbn0iXX0=
